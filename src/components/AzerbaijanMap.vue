<template>
  <div class="azerbaijan-map-container" @contextmenu.prevent>
    <!-- Background -->
    <div class="background-pattern"></div>
    
    <!-- Header with logo and title -->
    <div class="header">
      <div class="header-content">
        <div class="logo-container">
          <img src="/map/azerishiqlogo.svg" alt="Azərişıq Logo" class="logo" />
        </div>
        <h1 class="title">"AZƏRİŞIQ" ASC TƏRƏFİNDƏN YENİDƏN QURULAN YARIMSTANSİYALAR</h1>
      </div>
    </div>

    <!-- Main content -->
    <div class="main-content">
      <!-- Left side - Map -->
      <div class="map-section">
        <div class="map-container" :class="{ 'gm-active': !!selectedRegion }">

         
          
          <!-- Main Azerbaijan Map -->
          <svg 
               id="Layer_2" 
               data-name="Layer 2" 
               xmlns="http://www.w3.org/2000/svg" 
               viewBox="0 0 1046.41 834.24" 
               @click="handleMapClick" 
               class="main-map"
               :class="{ 'is-hidden': !!selectedRegion }"
               :style="{
                  transform: `translate3d(${zoomTransform.translateX}px, ${zoomTransform.translateY}px, 0) scale(${zoomTransform.scale})`,
                  transformOrigin: 'center',
                  transition: 'transform 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 1.6s cubic-bezier(0.22, 0.61, 0.36, 1)',
                  willChange: 'transform, opacity'
                }">
   <g id="Layer_1-2" data-name="Layer 1">
    <g>
      <path class="cls-16 map-region" data-region="aran" d="M614.65,445.35s-5.02,14.09-7.27,16.98c-2.25,2.89,4.83,12.87,4.83,12.87.16,2.9-5.55,23.97-5.55,23.97,1.93,3.38,21.11,10.01,21.11,10.01l.48,14.96-5.07,7.36,3.38,1.33,10.55,6.29,1.39.83c0,2.77-13.63,13.03-13.63,13.03l-18.01-.68c-.88-3.22-23.4-19.39-23.4-19.39v-4.59c0-2.33-12.87-7.08-14.39-7.8-1.53-.72-7.16,4.84-7.16,4.84l-1-.24h-.12l-2.11,3.16-1.87,1.76-2.22.59-13.8-.36-4.33,1.17-3.51,2.46-2.81,2.92-7.84,8.07-21.88,12.29-3.27,1.87-9.59,9.83-2.34,1.52-4.1.47-12.75,4.45-7.61,4.21-5.85,4.92-9.12,11.7-5.97,6.2-24.23-6.78s.97-4.58,0-6.76c-.97-2.17-16.65-.97-18.57-6.27-1.93-5.31-.24-8.93,3.86-12.55,4.1-3.62,4.58-13.76,4.1-17.62-.48-3.86-18.1-7.72-14.96-12.07,3.14-4.35,5.55-2.9,13.75-5.31,8.2-2.41,12.3-7.72,12.3-7.72,0,0,11.34-1.45,13.51-2.9,2.17-1.45,13.02-4.34,14.71-6.27,1.69-1.93,3.62-12.31,2.17-14-1.45-1.69-8.44-6.52-10.86-8.69-2.41-2.17-1.21-10.62-1.21-10.62l-2.17-2.66s-10.24,3.62-13.93,3.86c0,0-4.17,7.96-5.37,7.96s-27.74-12.31-29.67-11.82c-1.93.48-8.69,6.27-9.89,6.52-1.21.24,0-15.2,0-15.2l-13.03-1.93v-12.31l-14.96-9.17s-18.09,4.34-20.99,2.65c-2.9-1.69-8.93-8.21-7.72-9.89,1.2-1.69,7.96-4.59,7.96-4.59l.72-8.21,1.93-.44.83-.19h0c.13.1,2.36,1.68,7.04,2.93,4.83,1.29,10.29,0,10.29,0,0,0,.16-5.15,3.38-5.31,3.22-.16,5.79-2.9,4.98-4.18-.8-1.29-2.41-6.01-2.41-6.01,0,0,5.15.38,5.79-3,.64-3.38,9.81-7.72,10.77-4.67.97,3.06,1.77,4.51,4.83,2.58,3.05-1.93,5.95-9.01,5.95-9.01,0,0,14.15,0,13.83,2.9-.32,2.9,0,4.99,0,4.99l25.24,2.25s15.92-5.79,16.73-4.02c.8,1.77-1.28,7.12,2.09,7.98s11.1-1.39,11.74-2.52c.64-1.13,3.54-9.82,3.54-9.82l17.97-10.05-1.93-5.63s-4.99-1.28-4.5-3.86c.48-2.58,12.3-16.33,12.3-16.33l6.75-1.21,1.13-7.48,10.05,4.35-4.1,4.34s21.87,11.02,22.35,13.43c.48,2.41.97,3.82.97,3.82l4.26-6.8,7.8-2.17,3.62,3.94,7.44.89,2.53,2.66,20.87-2.61.84-3.13,4.11-4.41,3.48-7.44,2.32-18.7-2.7-1.11,9.89-3.41,3.48-7.59,6.89-1.86-1.33,2.08-1.7,10.62,5.72,5,5.89-1.28,7.33,7,10.72-9,7.72-.61,6.96,3.46.74,18.37,5.63,2.15,4.74,2.59,4.22,8,10.71,8.44.79,6.27-4.83,12.23s1.95,4.17,1.93,5.21.03,1.36-.48,1.7-2.84,3.47-4.08,9.39c0,0,1.02,2.54-12.8,5.47l-10.22,6.44-3.28,9.78-7.5-2.11Z"/>
      <path class="cls-18" d="M614.93,445.35l-1.88-.63-9.05-4.95h-10.61l-9.17-5.79-6.75-9.65-4.83-2.17-6.27,3.62-5.79,3.38-.72,7.48s-5.79,1.93-8.44-1.93c-2.65-3.86,7.24-15.93,7.96-17.88.72-1.95-4.1-17.96-4.1-19.65s6.76-10.74,6.76-10.74l-2.9-4.41"/>
      <polyline class="cls-18" points="433.76 487.76 438.97 478.49 434.81 471.67 427.44 472.75 418.71 475.73 404.23 472.63 400.18 460.91 404.77 457.6 405.51 444.5 411.9 442.99 417.34 437.79 411.9 433.1 412.65 427.66 421.17 422.12 423.12 419.94"/>
      <path class="cls-18" d="M469.12,395.14l8.01,2.12,3.67,7.71,4.64,6.88.3,1.79,2.97-.67,2.74-2.45,3.58-2.18,4.66.36,1.49,1.39.81,2.1,1.11,1.44,1.91.37,3.64-1.52,2.23,1.44,5.55-7.01,2-.22,1.08,6.27,1.28,3.09,6.29,1.17,2.15,1.17s.96,8.35,1.36,8.95l2.13,4.58,4.32-1.43,1.56-.52,6.7,2.38,7.63-5.95"/>
      <polyline class="cls-18" points="524.53 416.81 514.06 440.72 513.07 448.36 509.61 462.28 506.09 474.76 501.45 479.69 494.69 482.11 490.34 483.93 485.8 484.86 480.1 484.56 477.97 486.05 475.79 488.93 471.25 490.85 467.52 495.65 470.51 503 465.71 506.62 471.68 516.95 438.97 520.8"/>
      <polyline class="cls-18" points="500.66 557.44 500.66 546.68 489.05 536.99 481.75 525.41 474.66 523.88 471.68 516.95"/>
      <path class="cls-18" d="M530.7,536.31l1.29-8.17,8.11-7.12,7.45-4.39,1.11-6.89-18.7-15.91-6.54-3.37.89-7.07,3.09-8.52-3.98-2.41-1.88-3.78,2.99-3.5,4.05-2.23,6.72-5.12.02-9.3s-9.21-10.68-12.18-13.51l7.67-7.14"/>
      <text class="cls-2" transform="translate(353.16 445.53)"><tspan x="0" y="0">Ağdam</tspan></text>
      <text class="cls-2" transform="translate(478.05 518.26)"><tspan x="0" y="0">Beyləqan</tspan></text>
      <text class="cls-2" transform="translate(422.08 556.88)"><tspan x="0" y="0">Füzuli</tspan></text>
      <text class="cls-2" transform="translate(552.94 484.75)"><tspan x="0" y="0">İmişli</tspan></text>
      <text class="cls-2" transform="translate(500.66 402.2)"><tspan x="0" y="0">Zərdab</tspan></text>
      <text class="cls-2" transform="translate(432.85 441.38)"><tspan x="0" y="0">Ağcabədi</tspan></text>
      <text class="cls-7" transform="translate(442.59 468.81)"><tspan x="0" y="0">ARAN RETSİ</tspan></text>
      <g>
        <g>
          <polygon class="cls-13  map-region" data-region="naxcivan"  points="17.34 529.92 22.41 530.73 25.42 527.31 23.66 521.79 19.29 520.63 14.85 521.98 14.33 524.69 15.26 527.59 17.34 529.92"/>
          <polygon class="cls-13 map-region" data-region="naxcivan"  points="248.87 743.06 247 743.29 236.47 740.72 224.42 735.22 186.17 727.14 181.96 725.5 172.72 721.87 156.46 721.64 146.16 719.07 141.13 718.95 139.73 718.6 138.91 718.48 135.16 716.26 132.24 715.44 130.13 714.85 125.92 712.87 122.06 710.29 119.96 707.71 119.72 705.26 120.19 703.27 120.89 701.28 121.36 698.94 120.43 697.3 116.1 695.31 114.46 694.02 113.52 692.15 112.12 687.12 111.3 685.25 109.66 683.37 107.91 682.44 106.39 681.15 105.1 678.81 106.74 675.42 105.69 672.84 103.23 671.32 100.65 670.85 98.9 669.92 99.02 667.93 99.48 665.7 98.9 664.3 97.26 664.06 95.51 664.77 94.34 665.59 93.87 666.06 74.92 659.73 70.12 661.25 68.95 657.63 67.08 645.93 65.79 643.47 64.27 641.13 63.1 638.67 59.83 631.3 58.31 628.96 56.67 628.02 54.8 625.8 53.39 623.34 52.81 621.7 51.76 620.53 51.64 620.42 45.21 615.97 44.62 615.15 44.15 614.09 43.57 613.16 42.16 612.81 40.18 612.81 39.24 612.69 34.56 609.3 33.86 607.54 35.38 604.74 31.63 601.34 29.41 596.66 23.91 573.96 21.69 568.81 17.95 566.11 18.65 565.41 19.12 564.36 15.02 564.25 11.05 563.42 7.77 561.55 7.3 560.85 5.2 557.92 3.21 548.91 1.45 545.99 6.6 543.76 15.02 542.13 22.98 542.36 29.18 540.84 33.86 538.15 34.91 537.56 41.69 532.41 48.48 529.95 54.68 533.11 55.97 534.87 68.02 550.32 69.89 554.3 70.71 558.63 70.36 564.13 68.6 572.67 69.3 576.06 72.93 578.4 79.6 576.76 84.75 571.97 89.66 570.33 90.71 571.97 95.28 578.29 97.38 583.2 99.25 585.89 101.94 586.95 110.48 587.77 113.64 589.4 119.37 595.26 119.49 595.37 121.36 596.43 123.46 596.78 125.57 596.43 127.56 595.37 129.43 594.55 144.05 585.19 148.97 583.2 171.2 577.7 172.25 577.47 176.46 577.35 181.49 579.34 185.59 582.26 187.22 585.31 187.34 589.29 186.64 595.26 188.39 606.02 187.57 609.77 181.37 619.83 180.2 624.63 181.25 626.97 181.73 628.14 192.14 630.83 195.88 633.87 199.27 637.62 203.6 641.01 206.29 642.3 216.7 647.33 220.33 650.96 221.5 652.83 221.97 654.59 221.62 656.23 220.33 657.86 216 663.6 214.83 669.56 216.47 675.77 220.33 682.09 225.13 688.87 228.75 696.36 238.23 722.81 248.87 743.06"/>
        </g>
        <polyline class="cls-18" points="11.05 563.42 15.26 553.19 22.87 545.57 30.33 543.04 33.86 538.15"/>
        <polyline class="cls-18" points="50.92 619.92 59.74 613.65 65.79 603.59 69.01 590.1 72.93 578.4"/>
        <polyline class="cls-18" points="90.71 571.97 88.59 573.73 85.2 579.02 79.66 599.69 80.83 605.98 83.47 612.66 84.88 618.66 82.75 623.77 85.08 629.04 84.46 634.54 80.43 637.18 75.58 639.4 71.35 640.72 62.66 637.66"/>
        <polyline class="cls-18" points="119.37 595.26 115.67 598.53 110.44 603.81 107.36 608.54 110.79 610.93 114.08 612.27 117.28 621.44 134.62 631.14 137.94 635.39 137.94 643.27 142.31 642.74 144.34 650.41 137.85 653.17 116.1 653.93 104.61 653.17 99.05 658.83 110.73 668.1 128.47 666.69 134.42 668.78 138.26 672.15 137.73 680.57 134.32 687.81 137.5 695.07 142.53 702.62 141.57 705.49 139.01 708.91 139.73 718.6"/>
        <polyline class="cls-18" points="127.4 666.77 135.17 661.39 138.9 652.86"/>
        <polyline class="cls-18" points="142.31 642.74 150.31 638.18 158.08 635.18 163.3 632.3 167.33 636.64 171.93 637.52 180.87 626.12"/>
        <polyline class="cls-18" points="181.51 725.33 185.34 718.48 180.03 713.06 173.11 708.31 173.11 705.68 173.99 703.57 174.88 698.51 175.66 695.7 183.41 685.83 190.48 670.08 191.64 666.77 193.74 658.04 194.54 655.5 205.8 642.07"/>
        <text class="cls-3" transform="translate(173.65 711.86)"><tspan x="0" y="0">Ordubad</tspan></text>
        <text class="cls-3" transform="translate(31.22 580.23)"><tspan x="0" y="0">Şərur</tspan></text>
        <text class="cls-3" transform="translate(14.33 556.22)"><tspan x="0" y="0">Sədərək</tspan></text>
        <text class="cls-3" transform="translate(144.34 675.95)"><tspan x="0" y="0">Culfa</tspan></text>
        <text class="cls-3" transform="translate(125.16 612.48)"><tspan x="0" y="0">Şahbuz</tspan></text>
        <text class="cls-3" transform="translate(78.67 601.54)"><tspan x="0" y="0">Babək</tspan></text>
        <text class="cls-3" transform="translate(79.6 652.86)"><tspan x="0" y="0">Naxçıvan</tspan></text>
        <text class="cls-3" transform="translate(57.56 626.12)"><tspan x="0" y="0">Kəngərli</tspan></text>
        <text class="cls-7" transform="translate(92.9 642.74)"><tspan x="0" y="0">N</tspan><tspan class="cls-24" x="11.29" y="0">A</tspan><tspan class="cls-20" x="22.05" y="0">X</tspan><tspan class="cls-30" x="32.4" y="0">Ç</tspan><tspan class="cls-8" x="42.75" y="0">I</tspan><tspan class="cls-21" x="47.45" y="0">V</tspan><tspan class="cls-31" x="57.93" y="0">AN</tspan><tspan x="18.65" y="16.85">RETSİ</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="qarabag" d="M390.16,540.2c-3.14,4.34,14.48,8.21,14.96,12.07.48,3.86,0,14-4.1,17.62-4.1,3.62-5.79,7.24-3.86,12.55,1.93,5.31,17.61,4.1,18.57,6.27.97,2.17,0,6.76,0,6.76l24.23,6.78-5.5,3.16-2.1,1.17-18.13,7.14-8.66,5.26-1.75,1.99-.59,2.34-6.67,10.65-3.04,8.89-.94,1.75-1.87,2.22-1.29.7-10.88,6.2-2.22.35-2.69-.7-5.03-2.34-2.93.12-2.92,1.4h-.12l-2.69,2.34-2.46,2.81-4.67,8.19-1.06,1.41-1.52,1.17-2.92,1.64-1.41,1.17-2.22,3.51-3.04,7.14-3.04,2.81-10.53,5.38-3.28,2.81-2.45,3.16-5.15,10.65-2.11,3.39-2.46,2.81-2.81,2.22-2.92,1.87-3.98,1.64-3.27.23-6.32-13.46-.7-2.69-.23-2.81.35-2.92.58-2.81.47-1.4,2.34-7.49.47-6.56-.94-6.67-2.34-7.61-4.33-3.63-6.08-3.39-4.68-4.68-.12-7.26,4.09-3.86,6.43.82,11,5.62,2.22-.35,8.42-5.97,3.86-.23,1.64-.7-.7-1.64-.23-.7-1.17-1.41-1.17-1.05-7.84-5.5-4.33-4.56-1.75-3.51-1.05-3.75-1.29-3.39-2.93-2.46-13.1-5.85-5.84-4.56-2.58-7.37,2.45-6.09,5.73-3.63,13.33-2.46,2.22-1.05,1.29-1.75v-2.22l-1.29-2.46.12-3.98,2.11-1.87,2.69-1.64,1.64-3.04-.58-3.86-2.22-3.04-3.04-1.99-2.93-.7-11.46,1.17-3.63-.58-2.69-1.99-4.22-5.85-2.57-2.11-6.31-.47-12.4,6.44-6.32,1.28-3.97-1.28-2.69-2.58-4.33-8.07-2.57-3.28-3.16-1.76-6.9-1.99-5.61-4.56-7.02-14.28-5.03-4.92-11.47-3.39-5.97-3.16-.67-.34-3.19-1.65-8.19-8.19-1.4-2.81-8.19-16.73-3.86-4.45-5.03-2.46-18.95-1.99-5.73-2.58-.35-3.28-.23-2.34,11.58-7.49,29.83,4.92,12.64-1.17,2.46-2.11,1.29-2.46,2.11-11,.7-1.76,3.98-3.51,3.51-4.68,2.22-5.85,3.28-15.33.12-1.41-.12-1.4-.35-1.41-4.68-6.2-2.57-2.45-2.69-1.41-3.98.24-2.58.7-1.17.35-3.63-.12s5.28-9.45,10.59-9.21c5.31.24,21.71,0,21.71,0,0,0,18.57-.49,20.99,0,2.41.49,29.43,4.5,29.43,4.5,11.42,4.81,18.25,3.63,18.25,3.63l9.89-6.76,5.07,2.17v24.62c0,.97,3.62,10.38,5.31,11.1,1.69.72,14.24-11.1,14.24-11.1l15.44,8.45,3.86,6.76-6.64,1.53h0l-.83.19-1.93.44-.72,8.21s-6.76,2.9-7.96,4.59c-1.21,1.69,4.82,8.2,7.72,9.89,2.89,1.69,20.99-2.65,20.99-2.65l14.96,9.17v12.31l13.03,1.93s-1.21,15.45,0,15.2c1.2-.24,7.96-6.03,9.89-6.52,1.93-.48,28.47,11.82,29.67,11.82s5.37-7.96,5.37-7.96c3.69-.24,13.93-3.86,13.93-3.86l2.17,2.66s-1.2,8.44,1.21,10.62c2.41,2.17,9.41,7,10.86,8.69,1.45,1.69-.48,12.07-2.17,14-1.69,1.93-12.55,4.83-14.71,6.27-2.17,1.45-13.51,2.9-13.51,2.9,0,0-4.1,5.31-12.3,7.72-8.2,2.41-10.61.96-13.75,5.31Z"/>
        <polyline class="cls-18" points="184.01 503.94 186.69 500.68 194.69 494.82 202.37 488.09 205.48 480.89 209.4 474.45 213.89 478.12 218.96 483.56 224.63 482.68 231.24 480.63 244.35 478.71 257.19 474.45 264.91 470.93 274.59 469.12 289.48 462.79 298.7 457.17 305.03 460.1 308.54 463.48 315.76 460.07 319.15 454.1 323.8 451.62 324.6 451.2"/>
        <path class="cls-18" d="M341.1,550.85l-1.92-6.71-2.56-5.11-5.35-.41-5.2,2.28-5.01,8.79-7.35,1.17-3.31-3.09-7.57-3.2-.75-6.29,2.94-7.46,2.6-5.11-1.11-6.97-1.93-8,8.96-1.36,11.04-4.35h8.76l7.73,2.56-1.49,2.45.21,2.56,1.28,1.28h3.73l.96-1.6,1.81-1.07s4.09,12.79,2.34,23.87l-9.8,15.77-7.97,1.35-5.03,5.58,3.09,3.41,1.07,6.07-3.68,5.19-5.09,3.47-10.19,7.4-3.74,2.9-8.4-1.09-5.64-3.26"/>
        <polyline class="cls-18" points="304.6 510.73 301.14 495.31 294.55 482.94 292.1 480.07 289.86 478.4 287.21 476.33 285.9 469.9 288.33 463"/>
        <polyline class="cls-18" points="341.1 507.59 344.29 508.44 347.6 511.21"/>
        <polygon class="cls-18" points="344.59 500.93 348.16 498.85 350.05 492.81 351.88 492.81 352.71 489.38 348.13 485.96 343.95 489.38 341.1 493.42 341.63 498.96 344.59 500.93"/>
        <polyline class="cls-18" points="373.52 488.55 361.45 502.05 357.32 507.56 359.71 513.87 368.66 522.67 371.63 532.94 366.64 536.34 359.32 541.9 354.52 539.23 349.94 535.08"/>
        <polyline class="cls-18" points="323.24 575.25 331.72 577.27 339.11 575.25 342.65 577.7 344.85 581.53 342.93 586.87 339.83 591.6 335.45 595.7 334.28 602.95 336.83 608.06 340.38 613.59 340.99 621.06 343.61 627.3 350.6 631.8 356.01 635.77 362.19 643.87 364 651.96"/>
        <line class="cls-18" x1="341.52" y1="644.5" x2="356.01" y2="635.77"/>
        <polyline class="cls-18" points="341.21 644.5 334.75 652.45 330.23 659.1 322.36 654.32 321.06 636.96 312.69 637.11"/>
        <polyline class="cls-18" points="339.83 591.6 345.57 594.06 350.05 594.61 353.67 594.96 356.01 586.53 353.24 579.72 357.53 577.06 361.77 580.15 368.04 581.91 368.56 585.32 368.37 588.25 372.96 592.79 380.49 596.52 382.05 600.73 386.78 599.68 389.54 597.11 393 596.4 395.65 596.03 396.29 593.15 394.05 585.9 396.88 581.59"/>
        <text class="cls-3" transform="translate(222.34 437.83)"><tspan x="0" y="0">Kəlbəcər</tspan></text>
        <text class="cls-3" transform="translate(356.01 623.46)"><tspan x="0" y="0">Cəbrayıl</tspan></text>
        <text class="cls-2" transform="translate(373.52 515.23)"><tspan x="0" y="0">Xocavənd</tspan></text>
        <text class="cls-3" transform="translate(247.42 530.18)"><tspan x="0" y="0">Laçın</tspan></text>
        <text class="cls-3" transform="translate(287.66 605.71)"><tspan x="0" y="0">Qubadlı</tspan></text>
        <text class="cls-3" transform="translate(315.97 532.94)"><tspan x="0" y="0">Şuşa</tspan></text>
        <text class="cls-2" transform="translate(320.48 471.79)"><tspan x="0" y="0">Xocalı</tspan></text>
        <text class="cls-3" transform="translate(295.25 671.89)"><tspan x="0" y="0">Zəngilan</tspan></text>
        <text class="cls-2" transform="translate(292.51 488.55)"><tspan x="0" y="0">Xankəndi</tspan></text>
        <text class="cls-7" transform="translate(238.64 509.4)"><tspan class="cls-11" x="0" y="0">Q</tspan><tspan class="cls-31" x="11.77" y="0">ARAB</tspan><tspan class="cls-29" x="55.72" y="0">A</tspan><tspan class="cls-30" x="66.9" y="0">Ğ RETSİ</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="cenub" d="M788.58,669.88h0s-.17.69-.17.69l-.47,8.19-.94,5.03-1.64,4.1-13.69,9.59-7.14,2.81-5.03-4.09.58-2.69-.12-1.87.23-1.64,1.76-1.76,8.19-1.64,2.81-1.4,2.34-3.63,1.52-4.68.12-4.68-2.11-4.33-3.63-1.99-8.66-.23v-2.11l-1.05-9.6-.7-2.69-3.16-2.69-3.51-.94-7.72.35-2.22.7-1.05,1.87-.7,2.45-1.52,3.28-.12,1.29v2.46l-.35,1.87-.82.47h-.94l-.47.23-.35,11,.7,5.73,2.93,5.03-.7,5.74-4.91,16.73-.58,1.53-3.63,8.42-.47.47-5.15,6.32-6.55-1.76.12,8.31.47,3.86.82,3.63,1.41,3.63,2.92,9.36.94,33.94,1.05,39.09-11.7-2.46h-5.85l-4.09,2.22-3.51,3.63-4.68,2.93-4.91,2.11-4.33,1.17-8.42-.7h-.93l-5.73-5.73-5.03-8.31-2.34-3.04-4.45-5.62-2.81-3.86-3.04-3.39-2.92-4.68-2.93-2.69-2.34-3.16-1.28-6.09-2.11-5.03h-4.21l-9.24,4.21-5.61-.12-3.28-3.04-2.92-4.33-8.78-7.02-.35-3.98.82-4.56-.94-3.39-.47-1.87-2.22-1.99-24.1-11.93-11.82-9.48-3.63-6.55-.47-9.71,1.75-2.58,9.48-5.97.58-1.52v-1.76l.59-1.52,33.57-5.97,7.48-4.56v-.12l1.64-2.46,1.41-3.04v-.12l.94-3.16.12-3.28-1.05-2.92-5.5-11.82-2.69-2.69-10.41-4.22-10.3-10.18-4.44-6.2-2.46-6.32.35-8.08,3.28-6.67,5.26-5.03,6.2-3.16,11.35-2.34,9.59-6.44,4.67-1.52,1.12-.35.75-.24-3.98-8.54-5.15-7.02-12.4-11.58-30.53-36.86-11.23-10.42-3.51-2.45-1.46-.35s5.63-5.56,7.16-4.84c1.53.72,14.39,5.47,14.39,7.8v4.59s22.52,16.17,23.4,19.39l18.01.68s13.63-10.26,13.63-13.03l-1.39-.83,9.43-11.11,10.61,11.26s6.11-2.09,22.35-1.29c16.24.8,20.43,12.23,20.43,12.23,0,0-2.73,14.8.16,16.89,2.9,2.09,4.34,17.06,4.34,17.06l-13.03,26.38,6.23,17.94-2.25,21.88,12.54,3.22v10.13l7.56,4.99,2.9-17.37,22.84-14.8,1.29-8.85h7.88l4.34,13.35h14.47s5.95,6.44,13.19,10.94c7.17,4.46,6.45,17.32,6.44,17.57Z"/>
        <polyline class="cls-18" points="629.15 603.16 630.91 605.87 631.76 617.24 638.04 620.79 640.71 618.44 642.84 615.78 645.87 614.17 649.57 613.59 656.26 608.21 661.8 601.61 668.2 601.61 672.35 608.21 674.27 616.63 680.24 620.36 685.89 615.03 686.22 604.71 686.84 601.39 689.77 598.49 691.57 594.92 693.24 592.76 696.65 592.76 699.23 594.53"/>
        <polyline class="cls-18" points="623.11 687.54 636.34 686.53 644.86 684.18 651.15 688.34 656.16 694.62 665.21 692.17 669.83 687.19 675.87 679.81 680.98 676.3 685.53 674.59 690.36 671.29 687.48 665.96 687.32 659.97 691.11 659.68 693.91 660.55 696.22 659.04 700.83 655.2 704.83 653.19"/>
        <polyline class="cls-18" points="724.67 647.43 724.67 660.42 722.91 665.93 723.28 675.66 731.7 683.65 731.7 690.37 732.34 695.26 736.28 705.28"/>
        <polyline class="cls-18" points="731.68 716.79 725.42 715.17 719.34 715.08 715.08 717.53 713.55 719.91 702.08 725.34 696.22 729.96 689.51 731.38 682.77 727.14 676.72 721.21 675.93 712.23 668.11 705.17 659.57 703.89 656.16 694.62"/>
        <path class="cls-18" d="M609.31,758.69l5.19-2.58,5.24-8.2s2.4-11,7.96-14.99c5.56-3.98,34.98-22.08,40.42-27.74"/>
        <polyline class="cls-18" points="677.25 722.33 672.53 731.38 674.89 742.76 690.25 753.01 695.09 762.33 695.09 767.87 695.2 770.44 699.43 774.42 702.08 777.63 698.94 783.91 696.22 788.82 688.23 792.76 683.59 792.76 679.92 793.5 675.15 796.54 673.18 798.44 671.06 805.04 665.7 815.44"/>
        <polyline class="cls-18" points="726.18 784.55 708.93 788.82 696.22 788.82"/>
        <polyline class="cls-18" points="722.32 741.25 719.14 743.28 719.56 751.95 720.61 754.48 724.43 755.04 725.24 750.61"/>
        <text class="cls-2" transform="translate(675.13 818.22)"><tspan x="0" y="0">Astara</tspan></text>
        <text class="cls-2" transform="translate(627 574.99)"><tspan x="0" y="0">Biləsuvar</tspan></text>
        <text class="cls-2" transform="translate(620.45 647.43)"><tspan x="0" y="0">Cəlilabad</tspan></text>
        <text class="cls-2" transform="translate(686 707.08)"><tspan x="0" y="0">Masallı</tspan></text>
        <text class="cls-2" transform="translate(635.46 770.43)"><tspan x="0" y="0">Lerik</tspan></text>
        <text class="cls-2" transform="translate(581.37 725.47)"><tspan class="cls-9" x="0" y="0">Y</tspan><tspan x="7.58" y="0">ardımlı</tspan></text>
        <text class="cls-5" transform="translate(629.15 688.79)"><tspan class="cls-12" x="0" y="0">C</tspan><tspan x="9.46" y="0">ƏNUB RETSİ</tspan></text>
        <text class="cls-2" transform="translate(663.97 745.11)"><tspan x="0" y="0">Lənkəran</tspan></text>
      </g>
      <g>
        <path class="cls-14 map-region" data-region="sirvan" d="M823.52,602.62l-1.17,7.84.23,2.46,1.52,2.69-2.22-1.17-1.64-1.52-1.29-1.76-1.05-1.99h-1.05l.59,3.39,1.64,3.86,2.22,3.39,2.81,1.99v1.76l-4.09-.94-2.57-2.93-2.34-3.28-9.24-6.2-6.08,2.34-4.68,6.09-1.87,7.37.12,25.74-.59,3.04-.94,4.22-2.46,7.49-.76,3.05c.01-.25.73-13.11-6.44-17.57-7.24-4.5-13.19-10.94-13.19-10.94h-14.47l-4.34-13.35h-7.88l-1.29,8.85-22.84,14.8-2.9,17.37-7.56-4.99v-10.13l-12.54-3.22,2.25-21.88-6.23-17.94,13.03-26.38s-1.45-14.96-4.34-17.06c-2.89-2.09-.16-16.89-.16-16.89,0,0-4.18-11.42-20.43-12.23-16.24-.8-22.35,1.29-22.35,1.29l-10.61-11.26-9.43,11.11-10.55-6.29-3.38-1.33,5.07-7.36-.48-14.96s-19.18-6.64-21.11-10.01c0,0,5.71-21.08,5.55-23.97,0,0-7.08-9.98-4.83-12.87,1-1.28,2.54-4.76,3.94-8.24,1.77-4.37,3.33-8.75,3.33-8.75l8.05,2.71,3.22-10.14,10.13-6.27s12.22-2.89,12.55-5.31c.32-2.41,2.41-9.33,4.18-9.98,1.77-.64-1.45-6.92-1.45-6.92l4.83-12.23-3.22-19.95,7.08-4.02,11.86,9.33,8.2,4.95s3.86,8.2,14.96,11.46c11.1,3.26,17.85-14.64,17.85-14.64,0,0-.81-5.41-1.58-9.53,4.6.01,8.26.44,11.15,1.09,1.25.28,2.37.61,3.35.96h0c6.85,2.45,7.58,6.23,7.58,6.23v7.96l10.86,8.32,2.9,17.44s22.07-.06,32.21,7.18c10.13,7.24,7.24,33.31,7.24,33.31,0,0,13.75,8.32,19.54,14.12,5.79,5.79-5.43,13.76-5.43,13.76l10.86,15.93-1.68,41.49h0s-1.67,2.78-1.67,2.78l.12,4.09-2.11,3.86-1.87,5.27-1.4,5.5-.82,4.68.12,3.28.12,3.16,1.76,4.33,16.96,15.45,2.1,2.69,1.52,3.04-.12,1.05-.82.82Z"/>
        <path class="cls-18" d="M611.08,454.12l6.09,9.7,3.84-.43,15.77-8.2,6.39-1.07s4.12,2.2,4.54,2.26,3.56,3.07,3.56,3.07l-2.56,6.64,1.97,3.93,2.35,1.81,2.61.42,1.81-2.02,3.69-2.54,5.15.59s12.82,7.25,15.02,9.2l7.67,3.52,6.38,7.97-.89,5.12-.91,3.32.93,6.71,2.16,4.69v8.2s-4.7,7.03-4.7,7.03l-8.91,4.09-8.56,2.03-5.6,4.09,5.74,3.63"/>
        <polyline class="cls-18" points="649.16 422.93 651.9 421.41 668.84 421.62 676.31 422.93 684.04 425.76 689.2 428.33 688.96 431.88 689.2 435.69 690.05 436.11 690.5 441.67 696.65 444.39 700.88 445.24 704.03 445.86 704.79 449.88 707.31 450.49 714.1 451.68 721.27 453.48 727.45 458.49 730.5 457.74 734.44 458.72 738.53 458.9 741.47 458.9 743.43 460.69 742.82 469.18 738.4 474.52 735.8 476.68 734.05 476.49 735.68 480.37 739.24 486.03 740.08 496.26 740.45 497.59 741.73 499.8 742.06 507.29 741.96 509.48 744.89 513.7 749.18 518.52 749.18 520.21 747.27 524.23 745.14 531.14 742.68 532.75 739.94 533.98 735.31 537.85 728.85 541.95 730.33 547.09 729.15 550.65 720.14 546.28 708.16 547.45 699.48 549.58"/>
        <polyline class="cls-18" points="727.45 458.49 726.81 467.86 728.19 471.91 732.3 474.94 734.05 476.49"/>
        <path class="cls-18" d="M800.45,485.2l-2.69-1.66-9.35,1.66-24.72-3.64s-12.21-7.61-12.5-7.73-12.79.7-12.79.7"/>
        <polyline class="cls-18" points="702.29 588.05 723.38 607.05 730.34 607.87 736.83 603.18 739.86 602.29 743.16 599.1 740.47 588.05 745.35 579.85 748.01 577.93 748.78 576.32 753.66 571.64 755.87 565.07 760.05 560.99 772.41 575.05 776.46 577.08 780.72 577.82 784.02 577.18 787.22 574.94 801.29 570.58"/>
        <text class="cls-2" transform="translate(696.65 436.4)"><tspan x="0" y="0">Hacıqabul</tspan></text>
        <text class="cls-2" transform="translate(738.4 619.65)"><tspan x="0" y="0">Neftçala</tspan></text>
        <text class="cls-2" transform="translate(629.23 502.57)"><tspan x="0" y="0">Saatlı</tspan></text>
        <text class="cls-2" transform="translate(660.74 467.49)"><tspan x="0" y="0">Sabirabad</tspan></text>
        <text class="cls-2" transform="translate(757.65 537.85)"><tspan x="0" y="0">Salyan</tspan></text>
        <text class="cls-2" transform="translate(749.18 468.79)"><tspan x="0" y="0">Şirvan</tspan></text>
        <text class="cls-7" transform="translate(676.43 515.46)"><tspan x="0" y="0">ŞİR</tspan><tspan class="cls-22" x="24.6" y="0">V</tspan><tspan x="35.08" y="0">AN RETSİ</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="merkezi-aran" d="M655.11,390.87l-2.16-13.39,7.08-4.02s4.5-2.09,4.5-6.44,1.45-14.48,3.54-15.93c2.09-1.45,16.24-12.07,16.24-12.07,0,0-9.16-10.94-12.87-12.39l-8.68,2.41-4.5-6.92-10.46-8.85,3.42-9.65,5.15-3.06,4.58-1.69,5.55-11.54-2.9-8.21.97-11.1-5.63-.8-.48,7.4s-9.97,12.39-9.81,13.68l-9.97.64s-2.09,8.36-2.74,9.01c-.64.64-6.43-1.45-7.88-.32-1.45,1.13-12.55,6.44-12.55,6.44l-1.28,5.15-12.71,3.22.64,13.03s-6.64,1.15-12.47,2.58c-3.95.97-7.53,2.08-8.43,3.05l-9.33-14.48,7.4-2.41-1.12-10.62-5.47-1.77-8.52.32-4.18-5.95-23.84,1.69-.72-4.34-13.03,2.54-10.49-2.17-14.11,5.07-15.2-7.96,7.24-7.6-3.98-11.22-10.5,7.96-4.7-8.69-7.6,2.17-34.74-11.95-9.05-6.52-5.07,3.26s-23.88-22.08-36.55-24.26l-7.6,1.21-23.07-11.22h0c-7.21,5.09-8.45,18.75-8.45,18.75l-13.99,1.77-21.71,20.43-2.09,6.44s-12.55,6.27-8.85,10.94c3.7,4.66-1.13,10.78-1.13,10.78,0,0,4.83,9.65,4.83,16.89s-5.15,14.8-5.15,14.8l-1.13,8.37-9.65,9.98-3.86,16.89s-1.45,1.13-8.04,5.63c-6.6,4.5,0,11.9,0,11.9l-5.07,11.49c11.42,4.81,18.25,3.63,18.25,3.63l9.89-6.76,5.07,2.17v24.62c0,.97,3.62,10.38,5.31,11.1,1.69.72,14.24-11.1,14.24-11.1l15.44,8.45,3.86,6.76-6.64,1.53c.13.1,2.36,1.68,7.04,2.93,4.83,1.29,10.29,0,10.29,0,0,0,.16-5.15,3.38-5.31,3.22-.16,5.79-2.9,4.98-4.18-.8-1.29-2.41-6.01-2.41-6.01,0,0,5.15.38,5.79-3,.64-3.38,9.81-7.72,10.77-4.67.97,3.06,1.77,4.51,4.83,2.58,3.05-1.93,5.95-9.01,5.95-9.01,0,0,14.15,0,13.83,2.9-.32,2.9,0,4.99,0,4.99l25.24,2.25s15.92-5.79,16.73-4.02c.8,1.77-1.28,7.12,2.09,7.98s11.1-1.39,11.74-2.52c.64-1.13,3.54-9.82,3.54-9.82l17.97-10.05-1.93-5.63s-4.99-1.28-4.5-3.86c.48-2.58,12.3-16.33,12.3-16.33l6.75-1.21,1.13-7.48,10.05,4.35-4.1,4.34s21.87,11.02,22.35,13.43c.48,2.41.97,3.82.97,3.82l4.26-6.8,7.8-2.17,3.62,3.94,7.44.89,2.53,2.66,20.53-2.57.56-3.27,4.41-4.63,3.44-6.95,2.67-19.08-2.7-1.11,9.89-3.41,3.22-7.52,7.15-1.93-1.33,2.08-1.7,10.62,5.72,5,5.89-1.28,7.33,7,10.72-9,7.72-.61,6.96,3.46.74,18.37,5.63,2.15,4.74,2.59,4.22,8,10.71,8.44v-.09Z"/>
        <polyline class="cls-18" points="344.62 223.65 343.9 232.14 345 250.6 343.72 260.47 340.65 270.02 345 278.17 352.26 279.07 357.64 282.84 353.3 289.6 347.44 298.24 351.14 303.42 358.39 298.94 365.06 299.9 369.79 305 369.17 316.17 369.79 325.47 375.22 327.07 380.87 326.22 382.36 328.05 381.02 332.45 378.04 337.91 375.43 339.11 366.13 348.28 350.9 357.38 338.78 357.33 328.88 361.81 320.99 366.82 310.97 370.76 304.07 379.35 292.76 386.89"/>
        <polygon class="cls-18" points="374.79 270.17 383.08 280.4 398.13 274.33 394.51 268.47 390.51 268.53 386.91 269.47 380.03 267.08 374.79 270.17"/>
        <path class="cls-18" d="M424.23,304.8l.32-3.09-.85-.75-2.2-.2s-11.46.37-12.08.2l-3.2,5.11,2.56,7.78,5.75,3.41,6.41.32,1.58-2.45-.43-1.49-.11-2.88.43-1.7,1.81-4.26Z"/>
        <polyline class="cls-18" points="437.02 265.17 435.03 272.73 429.56 292.66 429.46 301.29 431.8 308.53 429.88 315.88 425.83 320.79 420.72 323.77 416.05 334.14 414.6 337.35 408.84 338.62 392.35 341.33 390.42 344.24 383.64 354.46 380.32 350.65 377.58 346.37 376.61 342.28 375.43 339.11"/>
        <polyline class="cls-18" points="404.51 411.43 403.01 404.44 402.62 396.25 403.35 381.63 398.43 379.82 393.76 375.77 390.56 369.91 388.01 368.09 386.06 365.41 383.64 354.46"/>
        <polyline class="cls-18" points="467.15 378.88 466.55 378.14 465.63 378.88 466.32 373.85 467.07 371.72 468.13 369.8 466.12 366.97 459.18 367.88 455.77 366.5 459.4 361.17 458.01 358.5 448.21 354.99 449.7 353.18 453.43 350.3 454.49 348.49 454.71 344.61 453.34 344.16 451.27 345 449.17 345.4 446.4 345.29 445.76 344.76 445.86 342.41 442.13 337.83 440.11 336.98 438.85 334.69 439.85 330.98 440.32 326.43 437.13 323.98 435.54 324.84 431.37 329.74 429.67 330.8 429.03 328.67 429.34 325.42 430.84 322.92 428.71 320.57 427 319.4"/>
        <polyline class="cls-18" points="484.54 361.46 481.56 354.99 476.44 352 473.89 345.74 476.01 333.53 476.55 330.37 481.98 326.75 489.04 326.01 495.84 328.24 496.48 320.25 498.85 312.97 501.03 310.49 501.7 308.11 497.83 298.96"/>
        <polyline class="cls-18" points="567.5 347.39 564.99 346.36 559.82 346.84 552.43 345.6 530.97 335.58 526.78 339.05 521.78 340.25 515.02 335.06 510.22 332.4 504.12 334.49 498.98 332.4 495.84 328.24"/>
        <path id="_18" data-name="18" class="cls-17" d="M357.35,339.14l-1.6.11-1.17-1.17-.64-1.49,2.88-3.2,2.45,2.24-.21,2.34-1.7,1.17h0Z"/>
        <text class="cls-2" transform="translate(284.21 354.46)"><tspan x="0" y="0">Goranboy</tspan></text>
        <text class="cls-2" transform="translate(369.89 300.76)"><tspan class="cls-25" x="0" y="0">Y</tspan><tspan x="7.35" y="0">evlax</tspan></text>
        <text class="cls-2" transform="translate(441.84 316.24)"><tspan x="0" y="0">Ağdaş</tspan></text>
        <text class="cls-2" transform="translate(620.23 328.25)"><tspan x="0" y="0">Ağsu</tspan></text>
        <text class="cls-2" transform="translate(415.39 386.89)"><tspan x="0" y="0">Bərdə</tspan></text>
        <text class="cls-2" transform="translate(515.78 319.4)"><tspan x="0" y="0">Göyçay</tspan></text>
        <text class="cls-2" transform="translate(574.38 404.64)"><tspan x="0" y="0">Kürdəmir</tspan></text>
        <text class="cls-2" transform="translate(342.13 393.68)"><tspan x="0" y="0">Tərtər</tspan></text>
        <text class="cls-2" transform="translate(308.65 327.93)"><tspan x="0" y="0">Naftalan</tspan></text>
        <text class="cls-2" transform="translate(348.25 265.17)"><tspan x="0" y="0">Mingəçevir</tspan></text>
        <text class="cls-2" transform="translate(514.77 364.87)"><tspan x="0" y="0">Ucar</tspan></text>
        <text class="cls-7" transform="translate(373.54 345.15)"><tspan x="0" y="0">MƏR</tspan><tspan class="cls-1" x="35.35" y="0">K</tspan><tspan class="cls-26" x="45.46" y="0">Ə</tspan><tspan x="56.87" y="0">Zİ ARAN RETSİ</tspan></text>
      </g>
      <g>
        <g>
          <polygon class="cls-15" points="63.28 221.53 58.13 217.08 57.31 216.96 56.61 217.08 56.02 217.43 55.44 218.02 57.19 223.52 61.4 224.22 63.28 221.53"/>
          <polygon class="cls-15" points="19.52 208.65 26.08 210.88 28.65 205.38 26.66 198.47 19.52 196.72 16.72 198.71 16.13 202.1 17.19 205.73 19.52 208.65"/>
          <path class="cls-16 map-region" data-region="qerb" d="M337.65,208.58c-.96-2.9,1.13-10.78,1.13-10.78l-10.29-6.76-6.11,2.89-6.02-2.89-2.03,2.87-3.51.47-3.51-.94-3.51-.35-3.86,2.46-1.99,3.86-1.05,3.74-1.64,2.58-3.98.12-3.16-1.99-5.15-6.79-2.93-2.69-10.88-3.51-3.74-2.34-10.76-9.71-5.26-6.67-2.81-2.81-3.28-1.05h-13.69l-4.09.94-4.56,3.04-4.8,3.04-3.63,1.29-4.33.47-8.78-1.17-27.02-9.71-9.13-5.62-3.51-2.22-7.49-6.44-4.44-6.9,4.09-5.03,4.21-1.52,2.58-1.41-.23-1.52-4.21-1.64-11.93-2.46-26.09-10.18-5.97-5.62-2.58-3.04-2.69-.47-5.97,1.76-3.74.35-2.81-.59-8.78-4.56-3.39-1.76-5.84-.23-5.85,1.99-27.61,22.94-17.31,14.39,6.67,14.39-1.87,5.03,1.05,3.04,3.16,1.29h11.82l3.16,1.05,9.48,7.49,2.34,3.39.23,3.86-6.2,4.56-18.02-.7-1.87,7.72,2.34,3.98,3.86,2.69,3.51.35,1.17-2.81.47-4.44,3.04,1.64,5.97,6.2,3.74,2.34,2.81,3.04,2.92,2.57,8.54.94,7.95,3.28,4.21.7,8.42-4.21,1.75-.94,1.14-.11,3.89-.36,1.05,5.62-1.52,7.84,2.22,2.46,2.57.58,1.75.59,4.8,3.86,7.84,10.07,2.81,2.93,3.74,1.28,4.33.23,3.16,1.76.35,5.26-3.51,9.95-4.8,5.38-14.04,6.9-7.37,3.51-7.14,5.85-4.56,8.08v10.18l2.58,5.62,3.51,3.39,3.75,2.92,3.16,3.98.7,2.34.35,5.27.82,2.58,1.75,1.99,3.74,2.46,1.53,2.81,5.85,12.52,10.76,10.07,42.35,24.1.23.23,7.72,8.54s5.28-9.45,10.59-9.21c5.31.24,21.71,0,21.71,0,0,0,18.57-.49,20.99,0,2.41.49,29.43,4.5,29.43,4.5l5.07-11.49s-6.6-7.4,0-11.9c6.59-4.51,8.04-5.63,8.04-5.63l3.86-16.89,9.65-9.98,1.13-8.37s5.15-7.56,5.15-14.8-4.83-16.89-4.83-16.89c0,0,4.83-6.11,1.13-10.78-3.7-4.67,8.85-10.94,8.85-10.94l2.09-6.44,21.71-20.43,13.99-1.77s1.24-13.66,8.45-18.75h0c.57-.41,1.19-.76,1.84-1.04,0,0-10.13-11.26-11.1-14.16ZM122.7,307.42l-6.08,4.68-6.32-1.87-1.06-2.34-.35-2.46.35-2.45,1.06-2.46,2.34-1.64,2.46-.7h2.69l2.69.35,4.68,2.69-2.46,6.2Z"/>
          <polyline class="cls-18" points="95.53 212.76 94.98 203.89 93.17 190.61 93.17 188.97 95.3 185.67 94.13 181.72 98.92 166.49 97.64 157.64 77.11 155.05 71.86 152.66 64.93 147.84 57.05 146.03 53.21 143.69 47.26 137.81 44.78 135.1 44.26 133.99 43.5 129.97"/>
          <polyline class="cls-18" points="106.63 230.39 108.94 222.11 115.54 213.05 126.52 209.85 131.95 204.1 133.98 195.68 129.39 181.72 135.15 177.46 145.48 177.57 148.89 171.71 153.79 167.45 163.95 162.22"/>
          <path class="cls-18" d="M112.7,275.88l1.74,3.89,1.1,8.18,5.35,3.67,6.69-.05,5.65,2.45,3.73,5.11-.41,6.58,4.15,3.09,4.1,2.91,4.73,2.44,4.48-4.69,1.33-8,.9-10.54s.29-18.73-.85-20.99l2.34-10.55-.11-7.46,3.2-5.75,6.39-4.44,8.22-6.46,7.77-5.84s5.59-11.1,6.18-13.96l8.74-1.7,18.22,2.24,8.95-2.02,2.88-7.03,4.41-5.82,6.19-6.63,7.29-11.93-20.53-13.37"/>
          <polyline class="cls-18" points="174.47 386.86 176.81 381.08 176.92 377.46 178.73 374.79 180.01 369.89 180.11 364.14 182.14 359.34 180.54 354.55 178.09 350.61 176 346.26 179.15 331.21 192.15 323.22 197.81 315.57 206.64 302.87 213.78 297.01 223.34 302.23 235.35 310.68 240.67 314.17 244.89 317.58 232.43 336.54 237.21 343.97 243.19 349.22 249.26 353.7 249.26 360.94 240.67 370.5 236.11 384.14"/>
          <polyline class="cls-18" points="293.69 293.39 283.04 292.43 277.77 301.11 271 307.56 264.07 306.6 262.37 299.14 265.14 291.68 268.97 285.82 270.04 283.05 279.31 283.27 283.25 292.39"/>
          <polyline class="cls-18" points="222.52 301.7 228.61 297.28 236.58 295.2 242.44 295.31 247.35 291.68 249.26 283.05 251.82 276.34 252.41 270.59 252.99 267.07 257.68 258.17 258.42 256.77 255.34 248.64 257.02 240.7 259.1 236.03 260.88 225.94 263.65 221.25 264.61 212.73 260.45 204.63 245.32 183.96"/>
          <polyline class="cls-18" points="270.04 283.05 269.34 281.43 258.42 256.77"/>
          <path class="cls-18" d="M157.63,259.88s7.67,8.39,8.03,10.18,2.2,6.71,2.2,6.71l5.67,9.61,14.58,12.88,4.16,7.67-.59,4.67.48,6.09-1.28,2.77,1.28,2.77"/>
          <text class="cls-3" transform="translate(79.62 143.19)"><tspan x="0" y="0">Ağstafa</tspan></text>
          <text class="cls-3" transform="translate(186.24 364.34)"><tspan x="0" y="0">Daşkəsən</tspan></text>
          <text class="cls-3" transform="translate(117.03 332.65)"><tspan x="0" y="0">Gədəbəy</tspan></text>
          <text class="cls-2" transform="translate(238.55 341.94)"><tspan x="0" y="0">Göygöl</tspan></text>
          <text class="cls-2" transform="translate(245.93 301.98)"><tspan x="0" y="0">Gəncə</tspan></text>
          <text class="cls-3" transform="translate(51.15 169.22)"><tspan x="0" y="0">Qazax</tspan></text>
          <text class="cls-3" transform="translate(192.26 256.77)"><tspan x="0" y="0">Şəmkir</tspan></text>
          <text class="cls-2" transform="translate(273.46 230.39)"><tspan x="0" y="0">Samux</tspan></text>
          <text class="cls-3" transform="translate(149.24 209.92)"><tspan class="cls-28" x="0" y="0">T</tspan><tspan x="6.39" y="0">ovuz</tspan></text>
        </g>
        <text class="cls-6" transform="translate(153.1 279.61)"><tspan x="0" y="0">QƏRB RETSİ</tspan></text>
      </g>
      <g>
        <g>
          <polygon class="cls-16" points="1045.4 382.05 1044.23 384.51 1040.84 383.57 1038.5 384.39 1035.81 382.05 1034.05 378.54 1034.52 375.5 1036.86 377.37 1038.62 376.79 1040.13 375.5 1042.01 375.5 1044.7 378.31 1045.4 382.05"/>
          <polygon class="cls-16" points="1001.65 352.56 999.42 350.46 997.67 347.88 997.2 342.85 996.03 341.33 993.23 342.26 991 341.09 991 346.71 996.85 354.79 996.03 360.64 999.66 360.87 1002.35 360.17 1003.75 358.65 1003.52 355.72 1001.65 352.56"/>
          <path class="cls-16 map-region" data-region="baku" d="M1002.82,399.96l-.59,3.28-3.51-6.79-3.75-5.85-4.56-5.26-9.01-7.37-3.74-2.11-4.09-1.52-8.19-1.17-6.79-2.22-3.63-.47-2.11.23-2.46,1.05-1.64.47h-7.02l-3.16,1.29-6.2,5.15h-3.63l-1.29-1.05-2.34-3.86-1.4-1.53-1.99-.81-4.68-.82-4.68-2.58-3.63,1.99-6.08,5.5,1.29,5.62-5.15,5.27-7.37,3.86-12.05,2.69-10.64,6.2-13.92,5.15-3.28,2.46-6.9,7.72-3.16,2.22-1.99,2.57-.47,5.15,1.05,6.44.11,2.58-9.83,3.74-1.76,3.75.47,4.8,2.45,4.8,1.64,1.75,2.57,1.99,1.41,1.87.7,2.46-.94,1.4-1.87,1.17-3.16,3.04-1.4.7-1.4.94-1.29,2.46-.82,2.81-.11,2.22.94,4.68,2.1,5.15.59,2.69-.82,2.81-1.64,1.76-1.4,1.17-.94,1.28-.35,2.22.23,1.41.7,1.17.47,1.52-.24,1.64-.7,1.05-3.04,2.11-1.05,3.39.12,1.52.93,1.64-.81,3.04,1.05,3.28,4.21,5.73-.23,1.99-2.57,1.99-4.68,2.69-4.56,5.5-3.86,4.8-1.84,3.07,1.68-41.49-10.86-15.93s11.22-7.96,5.43-13.76c-5.79-5.79-19.54-14.12-19.54-14.12,0,0,2.89-26.07-7.24-33.31-10.13-7.24-32.21-7.18-32.21-7.18l-2.9-17.44-10.86-8.32v-7.96s-.73-3.78-7.58-6.23l17.43,2.98s4.34-8.45,7.96-16.65c3.62-8.21,13.51-21.96,31.84-24.86,18.33-2.9,42.46,0,46.32-5.07,3.86-5.07,6.03-28.72,6.03-28.72l5.31,5.79c5.07,5.31,41.25,19.31,41.25,19.31l4.05-11.7,5.02.64,7.84,2.45,4.21.36,3.39-.7,10.06-4.22,4.33-.7,20.71.7,1.52,1.53.82,1.75.58,1.64.82,1.64,3.28,3.98,3.39,3.16,3.74,2.11,16.38,3.51,3.16,1.87,1.99,3.51,2.22,5.5,2.81,5.15,3.63,2.22,3.86,1.52,3.39,3.63,2.69,4.8,1.75,4.91,1.87,19.66,1.29,1.99,1.52,4.45.94,4.91Z"/>
        </g>
        <path class="cls-23 map-region" data-region="baku" d="M802.79,468.83s3.98-14.54,3.83-14.99,5.66-8.5,5.66-8.5l-1.49-10.28,6.06-9.17,1.54-11.99,8.5-13.26.84-14.59-1.81-24.35,5.3-5.77,8.23-1.37,8.91-10.11h15.77l4.95-1.19h4.62l9.09,2.38,8.2-3.73,16.69-4.02,3.48-4.77-21.22-7.15-8.37,3.72"/>
        <polygon class="cls-23" points="863.41 369.24 861.25 362.53 857.52 357.99 863.78 355.08 871.52 354.56 877.38 363.93 874.81 365.96 870.56 368.42 863.41 369.24"/>
        <text class="cls-7" transform="translate(789.43 389.19)"><tspan x="0" y="0">BAKI RETSİ</tspan></text>
        <text class="cls-2" transform="translate(914.41 354.56)"><tspan x="0" y="0">Bakı</tspan></text>
        <text class="cls-2" transform="translate(772.28 367.85)"><tspan x="0" y="0">Abşeron</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="sumqayit" d="M885.41,317.98l-4.05,11.7s-36.19-14-41.25-19.31l-5.31-5.79s-2.17,23.65-6.03,28.72c-3.86,5.07-27.98,2.17-46.32,5.07-18.34,2.89-28.23,16.65-31.84,24.86-3.62,8.21-7.96,16.65-7.96,16.65l-17.43-2.98h0c-.99-.35-2.1-.68-3.35-.96-2.89-.65-6.55-1.08-11.15-1.09-.12-.65-.24-1.26-.35-1.81-.84-4.1-16.4,3.5-16.4,3.5l10.61-14.48,1.33-9.65.24-17.86-1.49-16.85-6.11-5.31,4.18-5.31v-11.26s5.31-1.29,4.02-4.51c-1.29-3.22,2.57-8.21,4.98-10.29,2.41-2.09,9.25,1.17,9.25,1.17,0,0,.82-2.82,1.36-5.58.29-1.48.5-2.94.45-3.95,0-.15-.04-.35-.09-.57l4.27-2.49s-.96-19.18,6.27-19.79c7.24-.6,8.32,0,8.32,0v-15.33s8.69-3.62,10.49,1.33c1.81,4.95-4.46,2.9,12.3,8.93,16.77,6.03,36.91,1.69,36.91,1.69l9.36-10.08,5.17,5.86,1.52,2.22.23.47,1.64,3.98,3.86,3.28,8.31,5.15,3.98-1.05,3.51,3.04,3.28,4.09,3.63,1.99,1.99,2.34-.81,5.26-3.16,8.9-1.17,4.68-.23,2.45.23,2.7.82,1.52,2.34,3.04.58,1.29.12.23,1.28,2.11,3.16,3.04,3.63,2.69,2.46,1.17,7.83.47,3.51.94,2.93,1.64,6.55,5.85.94.47,2.57,1.29,4.11.53Z"/>
        <path class="cls-23" d="M722.36,277.13l9.12,2.91,9.35,7.01,4.26,4.05s14.35,16.67,18.97,18.98c4.62,2.31,9.8,3.29,9.8,3.29l17.58,18.22,9.37,4.98"/>
        <polyline class="cls-23" points="834.8 304.59 840.3 295.99 844.73 294.97"/>
        <text class="cls-4" transform="translate(719.88 306.54)"><tspan x="0" y="0">SUM</tspan><tspan class="cls-19" x="28.91" y="0">Q</tspan><tspan class="cls-10" x="39.03" y="0">A</tspan><tspan class="cls-27" x="48.1" y="0">Y</tspan><tspan x="56.61" y="0">IT RETSİ</tspan></text>
        <text class="cls-2" transform="translate(780.79 275.52)"><tspan x="0" y="0">Xızı</tspan></text>
        <text class="cls-2" transform="translate(714.88 333.34)"><tspan x="0" y="0">Qobustan</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="xacmaz" d="M810.97,236.61l-9.36,10.08s-20.14,4.34-36.91-1.69c-16.77-6.03-10.49-3.98-12.3-8.93-1.81-4.95-10.49-1.33-10.49-1.33v15.33s-1.09-.6-8.32,0c-7.24.6-6.27,19.79-6.27,19.79l-4.27,2.49c-.98-3.98-9.2-18.25-9.2-18.25v-17.86s-10.73-.85-12.18-4.95c-1.43-4.05,2.08-12.8,2.17-13.03-.29.07-15.44,3.88-15.92,5.99-.48,2.13,3.62,16.21,6.52,18.87,2.89,2.66,5.55,8.21,2.41,8.93-3.14.72-7,.72-10.13,0-3.14-.72-30.88-17.86-35.71-25.1-4.82-7.24-11.58-5.79-12.54-6.52-.97-.72-11.82-5.55-29.43-10.62-17.61-5.07-25.09-12.55-25.09-12.55h-5.31l-4.1-5.79-9.65-2.66,1.45-15.2-20.99,2.66c-.48-2.17-4.15-8.36-4.15-8.36l3.79-1.15,4.21-2.69.82-2.34-.94-3.16-.82-4.92.47-5.03,1.75-2.34,2.34-1.75,2.69-3.28,1.52-4.33.94-3.86,1.87-1.99,4.8.82,3.98-2.34,6.08-17.32,3.39-6.79,5.97-3.74,20.94-3.98,5.38-2.93,9.59-8.31,15.67-9.83,4.21-4.56,3.63-7.03,7.61-21.18,1.29-1.52,1.11-1.45,11.29-14.7,8.77-14.16,1.99,1.64,5.5,3.39,6.44,5.85,16.03,22.35,6.2,6.32,2.57,3.74,1.05,5.97,12.4,14.04,7.02,14.98,3.63,1.4,3.04,3.16,2.34,3.86,1.52,3.04,4.21,6.32.7,1.41.94,1.05,4.45,1.28,1.52.94,2.81,4.09,6.55,13.69,5.5,11.59,2.58,3.86,2.34,4.57,1.05,5.26,2.22,20.95,1.17,4.44,1.99,1.87,1.28,2.81,3.04,17.2,8.66,14.51,16.71,18.95Z"/>
        <path class="cls-18" d="M653.48,40.92h2.64s4.79,5.33,4.79,5.33l-4.16,12.79,3.3,11.83,4.9.43,4.48,1.28-.37,5.17-2.72,3.89,3.5,7.78,2.14,9.98s14.06,22.94,14.89,27.25l3.33,4.65,8.81-3.41,3.31,3.64h6.48l5.48-3,5.75,2.13,6.81.22,7.79-3s15.24,1.01,18.01,2.45l9.7-.32.82-.25"/>
        <polyline class="cls-18" points="558.38 174.61 571.39 164.64 626.58 124.58 637.57 115.29 651.43 108.25 661.87 104.95 671.99 99.38"/>
        <polyline class="cls-18" points="702.33 131.5 700.55 141.82 700.76 151.62 703.21 154.61 703.21 158.12 699.39 162.98 689.04 172.51 684.24 184.84 698.12 200.01 696.07 206.71 691.25 210.7 687.97 215.66 690.74 222.35"/>
        <polyline class="cls-18" points="714.32 246.19 720.9 241.87 717.06 219.27 719.58 213.78 725.26 209.21 732.08 208.41 735.21 204.04 736.56 200.96 736.45 191.9 733.01 182.7 737.97 175.25 752.22 175.28 763.73 171.02 777.9 182.52 778.71 182.46"/>
        <text class="cls-7" transform="translate(604.04 150.69)"><tspan class="cls-21" x="0" y="0">X</tspan><tspan class="cls-11" x="10.14" y="0">A</tspan><tspan x="21.32" y="0">ÇMAZ RETSİ</tspan></text>
        <text class="cls-2" transform="translate(597.78 113.28)"><tspan x="0" y="0">Qusar</tspan></text>
        <text class="cls-2" transform="translate(625.15 183.03)"><tspan x="0" y="0">Quba</tspan></text>
        <text class="cls-2" transform="translate(678.82 97.49)"><tspan x="0" y="0">Xaçmaz</tspan></text>
        <text class="cls-2" transform="translate(712.15 165.03)"><tspan x="0" y="0">Dəvəçi</tspan></text>
        <text class="cls-2" transform="translate(735.01 222.35)"><tspan x="0" y="0">Siyəzən</tspan></text>
      </g>
      <g>
        <path class="cls-16 map-region" data-region="simalqerb" d="M721.03,282.4s-6.83-3.26-9.25-1.17c-2.41,2.09-6.27,7.08-4.98,10.29,1.28,3.22-4.02,4.51-4.02,4.51v11.26l-4.18,5.31,6.11,5.31,1.49,16.85-.24,17.86-1.33,9.65-10.61,14.48s15.56-7.6,16.4-3.5c.11.56.23,1.17.35,1.81.76,4.11,1.58,9.53,1.58,9.53,0,0-6.75,17.9-17.85,14.64-11.1-3.26-14.96-11.46-14.96-11.46l-8.2-4.95-11.86-9.33s4.5-2.09,4.5-6.44,1.45-14.48,3.54-15.93c2.09-1.45,16.24-12.07,16.24-12.07,0,0-9.16-10.94-12.87-12.39l-8.68,2.41-4.5-6.92-10.46-8.85,3.42-9.65,5.15-3.06,4.58-1.69,5.55-11.54-2.9-8.21.97-11.1-5.63-.8-.48,7.4s-9.97,12.39-9.81,13.68l-9.97.64s-2.09,8.36-2.74,9.01c-.64.64-6.43-1.45-7.88-.32-1.45,1.13-12.55,6.44-12.55,6.44l-1.28,5.15-12.71,3.22.64,13.03s-18.66,3.22-20.91,5.63l-9.33-14.48,7.4-2.41-1.12-10.62-5.47-1.77-8.52.32-4.18-5.95-23.84,1.69-.72-4.34-13.03,2.54-10.49-2.17-14.11,5.07-15.2-7.96,7.24-7.6-3.98-11.22-10.5,7.96-4.7-8.69-7.6,2.17-34.74-11.95-9.05-6.52-5.07,3.26s-23.88-22.08-36.55-24.26l-7.6,1.21-23.07-11.22c.57-.41,1.19-.76,1.84-1.04,0,0-10.13-11.26-11.1-14.16-.96-2.9,1.13-10.78,1.13-10.78l-10.29-6.76-6.11,2.89-6.02-2.89.54-.76,1.05-1.4,1.52-7.72.94-8.31,1.75-6.55,1.05-1.41,2.45-2.34,1.06-1.52.35-1.52.23-4.33.35-1.75,1.52-1.99,1.52.23.59-.23-1.17-3.51-5.73-8.78-3.51-3.98-1.17-2.11-.23-.12-1.29-.81-2.81,1.05-2.81-6.79-9-5.26-17.67-7.49-8.54-7.95-3.63-.94-2.11-1.06-9.59-6.55-3.04-4.09-1.64-5.27-1.75-11.23-3.98-7.73-.47-1.41-2.58.12-1.17,1.87-.94,2.22-1.52,1.28-4.91-4.09-2.34-10.88-.12-12.4,1.75-8.31,3.51-3.75,3.98-.47,8.54,1.99,3.74-.35,2.92-1.41,2.69-2.45,7.72-9.6,3.98-6.32,6.9-14.28,3.86.94,4.91-.12,8.42,1.17,3.28,1.87,1.05,4.68-.94,9.83,1.05,4.22,3.16,2.69h3.51l3.16-2.11,5.85-5.15,3.74-1.4,7.37-1.52,2.22-1.64,1.05-.82,3.04-3.16h1.52l.82,2.81,1.64,9.48.94,3.39,1.75,2.81,12.05,11.12,3.04,1.87,2.34.7,4.68.58,2.11,1.05.94,1.41.94,4.45.7,1.87,2.46,3.39,9.01,7.73,4.45,7.25,1.64,7.26,2.58,4.56h.23l7.49-1.05,3.39-1.41,3.51-.7,3.28.81,2.92,3.4,1.28,4.21.7,4.09,1.29,3.63,3.16,2.45.47.35,1.41,1.52.82,2.11.58,2.34,1.05,2.45,5.62,7.14,1.4,2.93.59,5.85-.35,12.76,1.87,5.5,3.16,3.16,13.81,8.43,4.21,1.52,1.52.58,18.83,1.87,3.98,1.29,5.03,7.25,3.39,2.58,3.63.12,6.43-4.33,3.51-1.4,3.74.47,9.48,4.8,5.38,2.81,3.51.7,12.64-1.17,2.81-.23,3.93-1.19s3.67,6.18,4.15,8.36l20.99-2.66-1.45,15.2,9.65,2.66,4.1,5.79h5.31s7.48,7.48,25.09,12.55c17.61,5.07,28.47,9.89,29.43,10.62.96.72,7.72-.72,12.54,6.52,4.83,7.24,32.57,24.38,35.71,25.1,3.14.72,7,.72,10.13,0,3.14-.72.48-6.27-2.41-8.93-2.9-2.65-7-16.73-6.52-18.87.48-2.11,15.63-5.92,15.92-5.99-.09.23-3.59,8.98-2.17,13.03,1.45,4.1,12.18,4.95,12.18,4.95v17.86s8.22,14.28,9.2,18.25c.06.22.09.42.09.57.12,2.89-1.81,9.53-1.81,9.53Z"/>
        <text class="cls-2" transform="translate(583.7 270.76)"><tspan x="0" y="0">İsmayıllı</tspan></text>
        <text class="cls-2" transform="translate(670.41 276.38)"><tspan x="0" y="0">Şamaxı</tspan></text>
        <text class="cls-2" transform="translate(503.83 240.95)"><tspan x="0" y="0">Qəbələ</tspan></text>
        <text class="cls-2" transform="translate(458 192.81)"><tspan x="0" y="0">Oğuz</tspan></text>
        <text class="cls-2" transform="translate(351.11 122.97)"><tspan x="0" y="0">Qax</tspan></text>
        <text class="cls-2" transform="translate(374.44 171.47)"><tspan x="0" y="0">Şəki</tspan></text>
        <text class="cls-2" transform="translate(309.82 78.92)"><tspan x="0" y="0">Zaqatala</tspan></text>
        <polyline class="cls-18" points="255.43 78.83 259.79 79.79 265.23 82.88 270.77 82.34 280.68 75.1 287.41 73.56 293.25 71.58 298.58 67.93 302.84 62.31 304.8 55.44 307.33 49.46 307.95 48.04 313.28 43.77 322.42 37.67 326.24 34.85 332.14 28.54 334.7 20.37 333.55 15.13"/>
        <polyline class="cls-18" points="319.06 132.75 320.31 126.56 328.31 116.33 334.21 103.36 340.24 93.53 349.62 90.44 361.66 91.08 373.38 94.81 384.14 92.47 390.8 83.07"/>
        <polyline class="cls-18" points="373.41 234.81 372.95 211.06 359.99 190.39 352.17 186.23 351.11 176.85 352.47 164.9 356.12 156.29 359.42 153.52 361.76 150.11 363.57 145.74 366.56 142.01 373.59 137.54 397.24 126.99 412.24 116.61 416.35 109.12 418.6 99.08"/>
        <polyline class="cls-18" points="486.04 273.13 488.34 272.51 489.84 266.14 472.07 256.65 456.17 244.41 453.08 240.89 450.6 236.48 448.6 227.15 446.04 226.93 443.38 227.79 441.51 225.45 442.42 222.35 438.37 217.77 435.39 212.12 437.29 203.08 439.34 198.3 442 192.44 449.29 176.36 452.83 154.67"/>
        <polygon class="cls-18" points="413.12 177.34 420.58 179.52 423.24 178.13 426.12 171.74 425.6 166.96 421.86 160.34 419.62 158.74 417.7 160.34 415.03 169.13 413.55 173.76 413.12 177.34"/>
        <polyline class="cls-18" points="489.84 266.14 490.15 251.16 494.05 237.11 499.85 226.93 500.49 221.07 499.75 215.43 510.51 193.69 511.75 188.13 513.49 181.86 512.11 176.22 512.45 167.99"/>
        <polyline class="cls-18" points="658.39 267.28 658.39 264.97 658.39 260.49 660.35 250.51 654.55 230.99"/>
        <text class="cls-2" transform="translate(255.43 56.06)"><tspan x="0" y="0">Balakən</tspan></text>
        <text class="cls-7" transform="translate(369.83 216.9)"><tspan x="0" y="0">ŞİMAL QƏRB RETSİ</tspan></text>
        <polyline class="cls-18" points="519.15 295.22 524.92 288.11 529.25 281.88 532.56 275.63 537.89 271.05 546.2 267.32 553.23 261.78 553.23 256.09 553.98 250.91 556.66 249.9 559.2 249.43 564.31 245.05 564.95 237.48 560.54 229.72 558.67 222.03 559.72 219.01 561.22 216.6 566.59 217.55 568.06 212.57 568.79 209.25 570.81 205.09 577.09 197.1"/>
      </g>
      <path class="cls-18" d="M396.23,495.75l-5.55-6.94,5.55,6.94Z"/>
    </g>
  </g>
          </svg>
          


          <!-- Google Maps View -->
          <transition name="view-fade">
            <div v-if="selectedRegion && !showGallery" class="map-view-container">
              <!-- Map Header with Controls -->
              <div class="map-header-container">
                <div class="map-controls">
                  <button class="map-control-btn home-btn" @click="closeRegionModal">
                    <img src="/icons/home.svg" alt="Home" class="control-icon" />
                  </button>
                  <button class="map-control-btn back-btn" @click="handleBackButton">
                    <img src="/icons/leftarrowwithbg.svg" alt="Go Back" class="control-icon" />
                  </button>
                  <button class="map-control-btn left-btn" @click="handleLeftClick">
                    <img src="/icons/leftarrow.svg" alt="Left" class="control-icon" />
                  </button>
                  <button class="map-control-btn right-btn" @click="handleRightClick">
                    <img src="/icons/rightarrow.svg" alt="Right" class="control-icon" />
                  </button>
                </div>
                <div class="map-title-container">
                  <h3 class="map-title">{{ getRegionName(selectedRegion) }}</h3>
                </div>
              </div>

              <div class="map-content" 
                   ref="mapContainer"
                   @wheel="handleMapWheel"
                   @mousedown="handleMapMouseDown"
                   @mousemove="handleMapMouseMove"
                   @mouseup="handleMapMouseUp"
                   @mouseleave="handleMapMouseUp"
                   @touchstart="handleTouchStart"
                   @touchmove="handleTouchMove"
                   @touchend="handleTouchEnd"
                   @contextmenu.prevent
                   :class="{ 'map-dragging': isMapDragging }">
                <div class="map-zoom-container"
                     :style="{
                       transform: `translate3d(${mapZoomTransform.translateX}px, ${mapZoomTransform.translateY}px, 0) scale(${mapZoomTransform.scale})`,
                       transformOrigin: 'center',
                       transition: mapZoomTransform.transition,
                       willChange: 'transform'
                     }">
                <transition name="image-fade" mode="out-in">
                  <img :key="selectedRegion"
                       :src="`/googlemaps/${getGoogleMapFileName(selectedRegion)}`" 
                       :alt="`${getRegionName(selectedRegion)} Google Map`" 
                       class="map-view-image" />
                </transition>
                  
                  <!-- Yarimstansiya Pinpoints on Google Map -->
                  <div v-for="pinpoint in getVisiblePinpoints()" 
                       :key="pinpoint.id" 
                       class="pinpoint-overlay"
                       :class="{ 'pinpoint-clickable': mapZoomTransform.scale >= 1 }"
                       :style="{ 
                         left: pinpoint.x + '%', 
                         top: pinpoint.y + '%',
                         transform: `translate(-50%, -50%) scale(${1 / mapZoomTransform.scale})`,
                         pointerEvents: mapZoomTransform.scale >= 1 ? 'auto' : 'none'
                       }">
                    <!-- Create precise clickable area that matches the pin shape -->
                    <div class="pinpoint-clickable-area" @click.stop="handlePinPointClick(pinpoint)">
                      <img src="/icons/pinpoint.svg" 
                           alt="Yarımstansiya" 
                           class="pinpoint-icon" />
                    </div>
                  </div>
                </div>
              </div>

              <!-- Zoom Controls for Google Map -->
              <div class="map-zoom-controls">
                <button class="zoom-btn zoom-in" @click="zoomInMap">
                  <span>+</span>
                </button>
                <div class="zoom-separator"></div>
                <button class="zoom-btn zoom-out" 
                        @click="zoomOutMap"
                        :class="{ 'zoom-disabled': mapZoomTransform.scale <= 1 }">
                  <span>−</span>
                </button>
                <div class="zoom-separator"></div>
                <button class="zoom-btn zoom-reset" 
                        @click="resetMapView"
                        :class="{ 'zoom-disabled': mapZoomTransform.scale === 1 && mapZoomTransform.translateX === 0 && mapZoomTransform.translateY === 0 }">
                  <img src="/icons/tablerefresh.svg" alt="Reset" class="reset-icon" />
                </button>
              </div>
            </div>
          </transition>



          <!-- Gallery Layout (replaces region map when pinpoint is clicked) -->
          <div v-if="showGallery" class="gallery-container">
            <!-- Gallery Header with Controls -->
            <div class="gallery-header-container">
              <div class="gallery-controls">
                <button class="gallery-control-btn home-btn" @click="closeRegionModal">
                  <img src="/icons/home.svg" alt="Home" class="control-icon" />
                </button>
                <button class="gallery-control-btn back-btn" @click="handleBackButton">
                  <img src="/icons/leftarrowwithbg.svg" alt="Go Back" class="control-icon" />
                </button>
                <button class="gallery-control-btn left-btn" @click="handleLeftClick">
                  <img src="/icons/leftarrow.svg" alt="Left" class="control-icon" />
                </button>
                <button class="gallery-control-btn right-btn" @click="handleRightClick">
                  <img src="/icons/rightarrow.svg" alt="Right" class="control-icon" />
                </button>
              </div>
              <div class="gallery-title-container">
                <h3 class="gallery-title" lang="az">{{ selectedPinpoint?.name }}</h3>
              </div>
            </div>
            
            <div class="gallery-content">
              <!-- Left side - Main large image -->
              <div class="gallery-main">
                <div class="main-image-container">
                  <img v-if="selectedPinpoint?.images?.length > 0" 
                       :src="selectedPinpoint.images[currentImageIndex]" 
                       :alt="selectedPinpoint.name"
                       class="main-image"
                       @click="openPhotoSwipe(currentImageIndex)" />
                  
                  <!-- Navigation Arrows -->
                  <button v-if="selectedPinpoint?.images?.length > 1" 
                          class="gallery-nav gallery-prev" 
                          @click="prevImage">
                    <img src="/icons/rightcontrol.svg" alt="Previous" class="nav-icon" />
                  </button>
                  <button v-if="selectedPinpoint?.images?.length > 1" 
                          class="gallery-nav gallery-next" 
                          @click="nextImage">
                    <img src="/icons/leftcontrol.svg" alt="Next" class="nav-icon" />
                  </button>
                </div>
              </div>
              
              <!-- Right side - Thumbnail images -->
              <div class="gallery-thumbnails">
                <div v-for="(image, index) in selectedPinpoint?.images?.slice(0, 3)" 
                     :key="index"
                     class="thumbnail-container"
                     :class="{ active: index === currentImageIndex }"
                     @click="currentImageIndex = index">
                  <img :src="image" 
                       :alt="`${selectedPinpoint.name} - Image ${index + 1}`"
                       class="thumbnail-image" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div v-if="!selectedRegion" class="map-caption">"Azərişıq" ASC RETSİ-lər üzrə inzibati xəritəsi</div>
      </div>



      <!-- Right side - Statistics -->
      <div class="statistics-section">
        <!-- Butun bölgələr üzrə table -->
        <div class="stat-card">
          <h3 class="card-title"></h3>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th class="table-header-blue" style="border-radius: 12px 0px 0px 0px;">
                    {{ selectedPinpoint ? selectedPinpoint.name : (selectedRegion && !showGallery ? getRegionName(selectedRegion) : 'Bütün bölgələr üzrə') }}
                  </th>
                  <th class="table-header-blue" style="border-radius: 0px 12px 0px 0px;"></th>
                </tr>
                <tr>
                  <th class="table-header-light-blue">
                    {{ selectedPinpoint ? 'BMKZ YS 110/35/6 kV' : 'Yenidən Qurulan Yarımstansiyalar' }}
                  </th>
                  <th class="table-header-light-blue" style="text-align: right !important;">
                    <div class="count-badge">
                      {{ selectedPinpoint ? '9' : (selectedRegion && !showGallery ? getRegionSubstationCount(selectedRegion) : '31') }}
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr v-if="selectedPinpoint" 
                    v-for="(detail, index) in getSubstationDetails(selectedPinpoint)" 
                    :key="`detail-${index}`" 
                    :class="{ 'alternate-row': index % 2 === 1 }">
                  <td class="region-name">{{ detail.label }}</td>
                  <td class="count">{{ detail.value }}</td>
                </tr>
                <tr v-else-if="selectedRegion && !showGallery" 
                    v-for="(substation, index) in getRegionSubstations(selectedRegion)" 
                    :key="`substation-${index}`" 
                    :class="{ 'alternate-row': index % 2 === 1 }">
                  <td class="region-name">{{ substation.name }}</td>
                  <td class="count">{{ substation.specs }}</td>
                </tr>
                <tr v-else 
                    v-for="(region, index) in substationData.butunBolgelerUzre.regions" 
                    :key="`region-${region.name}`" 
                    :class="{ 'alternate-row': index % 2 === 1 }">
                  <td class="region-name">{{ region.name }}</td>
                  <td class="count">{{ region.count }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Yarımstansiyalar üzrə artım statistikaları -->
        <!-- <div class="stat-card statistika-card" style="box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 23px 0px;">
          <h3 class="card-title">Yarımstansiyalar üzrə artım statistikalar</h3>
          
          <div class="charts-container">
             
            <div class="bar-chart-section">
              <BarChart :data="substationData.yarimstansiyalarUzreArtim" />
            </div>

            
            <div class="donut-chart-section">
              <DonutChart :data="substationData.yarimstansiyalarUzreArtim" />
              <h4 class="donut-title">Artım nisbəti</h4>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div v-if="showImageModal" class="image-modal" @click="closeImageModal">
    <div class="modal-content" 
         @click.stop
         @mousedown="startDrag"
         @mousemove="onDrag"
         @mouseup="endDrag"
         @mouseleave="endDrag"
         @touchstart="startDrag"
         @touchmove="onDrag"
         @touchend="endDrag">
      
      <!-- Image Counter -->
      <div class="image-counter">
        {{ currentImageIndex + 1 }} / {{ selectedPinpoint?.images?.length }}
      </div>
      
      <img v-if="selectedPinpoint?.images?.length > 0" 
           :src="selectedPinpoint.images[currentImageIndex]" 
           :alt="selectedPinpoint.name"
           class="modal-image"
           :key="currentImageIndex" />
      
      <!-- Modal Navigation Arrows -->
      <button v-if="selectedPinpoint?.images?.length > 1" 
              class="modal-nav modal-prev" 
              @click="prevImage">
        <img src="/icons/rightcontrol.svg" alt="Previous" class="nav-icon" />
      </button>
      <button v-if="selectedPinpoint?.images?.length > 1" 
              class="modal-nav modal-next" 
              @click="nextImage">
        <img src="/icons/leftcontrol.svg" alt="Next" class="nav-icon" />
      </button>
    </div>
  </div>

  <!-- PhotoSwipe Template -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>
      <div class="pswp__ui pswp__ui--hidden">
        <div class="pswp__top-bar">
          <div class="pswp__counter"></div>
          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
          <button class="pswp__button pswp__button--share" title="Share"></button>
          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>
        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

</template>

<script setup>
import { ref, onMounted } from 'vue'
import axios from 'axios'
import BarChart from './BarChart.vue'
import DonutChart from './DonutChart.vue'

const substationData = ref({
  butunBolgelerUzre: { total: 0, regions: [] },
  yarimstansiyalarUzreArtim: { powerIncrease: 0, population: 0, nonPopulation: 0, other: 0, edcTotal: 0, edcBreakdown: [] },
  elektrikDoldurmaCihazi: { nationwide: 0, bakuCity: 0, karabakhIR: 0, otherIR: 0, ratio: { otherOrganizations: 0, azerishiqASC: 0 } }
})

const hoverRegion = ref(null)
const selectedRegion = ref(null)
const selectedPinpoint = ref(null)
const showGallery = ref(false)
const showMapView = ref(false)
const showImageModal = ref(false)
const currentImageIndex = ref(0)
const isDragging = ref(false)
const dragStartX = ref(0)
const dragCurrentX = ref(0)
const isZoomed = ref(false)
const zoomTransform = ref({ scale: 1, translateX: 0, translateY: 0 })
const originalViewBox = ref('0 0 1046.41 834.24')

// Google Map zoom functionality
const mapZoomTransform = ref({ 
  scale: 1, 
  translateX: 0, 
  translateY: 0, 
  transition: 'transform 0.3s ease-out' 
})
const mapContainer = ref(null)
const touchStartDistance = ref(0)
const touchStartCenter = ref({ x: 0, y: 0 })
const isPinching = ref(false)

// Map dragging functionality
const isMapDragging = ref(false)
const dragStartPos = ref({ x: 0, y: 0 })
const dragStartTransform = ref({ translateX: 0, translateY: 0 })

// Map boundary constraints
const getMapBounds = () => {
  if (!mapContainer.value) return { minX: 0, maxX: 0, minY: 0, maxY: 0 }
  
  const containerRect = mapContainer.value.getBoundingClientRect()
  const containerWidth = containerRect.width
  const containerHeight = containerRect.height
  
  // Assuming standard Google Maps image dimensions (can be adjusted)
  const imageWidth = containerWidth  // Image fills container width initially
  const imageHeight = containerHeight // Image fills container height initially
  
  const { scale } = mapZoomTransform.value
  
  // Calculate how much the scaled image exceeds the container
  const scaledImageWidth = imageWidth * scale
  const scaledImageHeight = imageHeight * scale
  
  // Calculate maximum translation to keep image within bounds
  const maxTranslateX = Math.max(0, (scaledImageWidth - containerWidth) / 2)
  const maxTranslateY = Math.max(0, (scaledImageHeight - containerHeight) / 2)
  
  return {
    minX: -maxTranslateX,
    maxX: maxTranslateX,
    minY: -maxTranslateY,
    maxY: maxTranslateY
  }
}

const constrainTransform = (translateX, translateY) => {
  const bounds = getMapBounds()
  
  return {
    translateX: Math.max(bounds.minX, Math.min(bounds.maxX, translateX)),
    translateY: Math.max(bounds.minY, Math.min(bounds.maxY, translateY))
  }
}

// Yarimstansiya pinpoints data - EASY TO EDIT
// Coordinates are relative to individual region SVG maps (not main map)
const pinpoints = ref([
  // Baku Region Pinpoints - Google Map Coordinates
  { 
    id: 'baku-1', 
    x: 55,  // Nərimanov area
    y: 60,  
    region: 'baku',
    name: 'NƏRİMANOV-TƏBRİZ YS',
    images: [
      '/imgs/baku/nerimanov-tebriz-ys/1.jpg',
      '/imgs/baku/nerimanov-tebriz-ys/2.jpg',
      '/imgs/baku/nerimanov-tebriz-ys/3.jpg'
    ]
  },
  { 
    id: 'baku-2', 
    x: 62,  // Sabunçu area
    y: 48,  
    region: 'baku',
    name: 'SABUNÇU 34 YS',
    images: [
      '/imgs/baku/sabuncu-34-ys/1.jpg',
      '/imgs/baku/sabuncu-34-ys/2.jpg',
      '/imgs/baku/sabuncu-34-ys/3.jpg'
    ]
  },
  { 
    id: 'baku-3', 
    x: 55,  // Sabunçu Pirşağı area
    y: 18,  
    region: 'baku',
    name: 'SABUNÇU PİRŞAĞI YS',
    images: [
      '/imgs/baku/sabuncu-pirsagi-ys/1.jpg',
      '/imgs/baku/sabuncu-pirsagi-ys/2.jpg',
      '/imgs/baku/sabuncu-pirsagi-ys/3.jpg'
    ]
  },
  { 
    id: 'baku-4', 
    x: 44,  // Səbail area
    y: 80,  
    region: 'baku',
    name: 'SƏBAİL BADAMDAR YS',
    images: [
      '/imgs/baku/sebail-badamdar-ys/1.jpg',
      '/imgs/baku/sebail-badamdar-ys/2.jpg',
      '/imgs/baku/sebail-badamdar-ys/3.jpg'
    ]
  },
  { 
    id: 'baku-5', 
    x: 35,  // Abşeron area
    y: 42,  
    region: 'baku',
    name: 'ABŞERON ƏLİAĞA VAHİD YS',
    images: [
      '/imgs/baku/abseron-eliagavahid-ys/1.jpg',
      '/imgs/baku/abseron-eliagavahid-ys/2.jpg',
      '/imgs/baku/abseron-eliagavahid-ys/3.jpg'
    ]
  },
  { 
    id: 'baku-6', 
    x: 48,  // Səbail  Liman
    y: 83,
    region: 'baku',
    name: 'SƏBAİL LİMAN 2 YS',
    images: [
      '/imgs/baku/sebail-liman2-ys/1.jpg',
      '/imgs/baku/sebail-liman2-ys/2.jpg',
      '/imgs/baku/sebail-liman2-ys/3.jpg'
    ]
  },
  // Sumqayit Region Pinpoints - Google Map Coordinates
  { 
    id: 'sumqayit-1', 
    x: 43,  // Sitalçay area
    y: 28,  
    region: 'sumqayit',
    name: 'SİTALÇAY YS',
    images: [
      '/imgs/sumqayit/sitalcay-ys/1.jpg',
      '/imgs/sumqayit/sitalcay-ys/2.jpg',
      '/imgs/sumqayit/sitalcay-ys/3.jpg'
    ]
  },
  // Merkezi aran Region Pinpoints - Google Map Coordinates
  { 
    id: 'merkezi-aran-1', 
    x: 50,  // Sitalçay area
    y: 47,  
    region: 'merkezi-aran',
    name: 'AĞDAŞ EŞ',
    images: [
      '/imgs/merkeziaran/agdas-es/1.jpg',
      '/imgs/merkeziaran/agdas-es/2.jpg',
      '/imgs/merkeziaran/agdas-es/3.jpg'
    ]
  },
  { 
    id: 'merkezi-aran-2', 
    x: 40,  // Sitalçay area
    y: 40,  
    region: 'merkezi-aran',
    name: 'MİNGƏÇEVİR KARXANA YS',
    images: [
      '/imgs/merkeziaran/mingecevir-karxana-ys/1.jpg',
      '/imgs/merkeziaran/mingecevir-karxana-ys/2.jpg',
      '/imgs/merkeziaran/mingecevir-karxana-ys/3.jpg'
    ]
  },
  
  // Xacmaz Region Pinpoints - Google Map Coordinates
  { 
    id: 'xacmaz-1', 
    x: 40,  // Xaçmaz center
    y: 27,  
    region: 'xacmaz',
    name: 'XAÇMAZ EŞ',
    images: [
      '/imgs/xacmaz/xacmaz-es/1.jpg',
      '/imgs/xacmaz/xacmaz-es/2.jpg',
      '/imgs/xacmaz/xacmaz-es/3.jpg'
    ]
  },
  // Sirvan Region Pinpoints - Google Map Coordinates
  
  //   aran Region Pinpoints - Google Map Coordinates
  { 
    id: 'aran-1', 
    x: 7,  // Xaçmaz center
    y: 42,  
    region: 'aran',
    name: 'AĞDAM EŞ',
    images: [
      '/imgs/aran/agdam-tezekend-ys/1.jpg',
      '/imgs/aran/agdam-tezekend-ys/2.jpg',
      '/imgs/aran/agdam-tezekend-ys/3.jpg'
    ]
  },
  { 
    id: 'aran-6', 
    x: 70,  // Sitalçay area
    y: 10,  
    region: 'aran',
    name: 'KÜRDƏMİR YS',
    images: [
      '/imgs/sirvan/kurdemir-ys/1.jpg',
      '/imgs/sirvan/kurdemir-ys/2.jpg',
      '/imgs/sirvan/kurdemir-ys/3.jpg'
    ]
  },
  { 
    id: 'aran-7', 
    x: 75,  // Sitalçay area
    y: 6,  
    region: 'aran',
    name: 'KÜRDƏMİR EŞ',
    images: [
      '/imgs/sirvan/kurdemir-es/1.jpg',
      '/imgs/sirvan/kurdemir-es/2.jpg',
      '/imgs/sirvan/kurdemir-es/3.jpg'
    ]
  },
  { 
    id: 'aran-2', 
    x: 20,  // Xaçmaz center
    y: 7,  
    region: 'aran',
    name: 'BƏRDƏ ŞİRVANLI YS',
    images: [
      '/imgs/aran/berde-sirvanli-ys/1.jpg',
      '/imgs/aran/berde-sirvanli-ys/2.jpg',
      '/imgs/aran/berde-sirvanli-ys/3.jpg'
    ]
  },
  { 
    id: 'aran-3', 
    x: 20,  // Xaçmaz center
    y: 10,   
    region: 'aran',
    name: 'BƏRDƏ SƏMƏD VURĞUN YS',
    images: [
      '/imgs/aran/berde-semedvurgun-ys/1.jpg',
      '/imgs/aran/berde-semedvurgun-ys/2.jpg',
      '/imgs/aran/berde-semedvurgun-ys/3.jpg'
    ]
  },
  { 
    id: 'aran-4', 
    x: 50,  // Xaçmaz center
    y: 19,  
    region: 'aran',
    name: 'ZƏRDAB EŞ',
    images: [
      '/imgs/aran/zerdab-es/1.jpg',
      '/imgs/aran/zerdab-es/2.jpg',
      '/imgs/aran/zerdab-es/3.jpg'
    ]
  },
  { 
    id: 'aran-5', 
    x: 20,  // Xaçmaz center
    y:85,  
    region: 'aran',
    name: 'FİZULİ MAHMUDLU YS',
    images: [
      '/imgs/aran/fizuli-mahmudlu-ys/1.jpg',
      '/imgs/aran/fizuli-mahmudlu-ys/2.jpg',
      '/imgs/aran/fizuli-mahmudlu-ys/3.jpg'
    ]
  },
  // Sirvan Region Pinpoints - Google Map Coordinates
  
  // Qerb Region Pinpoints - Google Map Coordinates
  { 
    id: 'qerb-1', 
    x: 25,  // Tovuz area
    y: 30,  
    region: 'qerb',
    name: 'TOVUZ YS',
    images: [
      '/imgs/qerb/tovuz-ys/1.jpg',
      '/imgs/qerb/tovuz-ys/2.jpg',
      '/imgs/qerb/tovuz-ys/3.jpg'
    ]
  },
  // Qerb Region Pinpoints - Google Map Coordinates
  { 
    id: 'cenub-1', 
    x: 38 ,  // Tovuz area
    y: 77,  
    region: 'cenub',
    name: 'LƏNKARAN EŞ',
    images: [
      '/imgs/cenub/lenkeran-es/1.jpg',
      '/imgs/cenub/lenkeran-es/2.jpg',
      '/imgs/cenub/lenkeran-es/3.jpg'
    ]
  },
  { 
    id: 'qerb-2', 
    x: 54,  // Göygöl area
    y: 65,  
    region: 'qerb',
    name: 'GÖYGÖL YS',
    images: [
      '/imgs/qerb/goygol-ys/1.jpg',
      '/imgs/qerb/goygol-ys/2.jpg',
      '/imgs/qerb/goygol-ys/3.jpg'
    ]
  },
 
  { 
    id: 'qerb-3', 
    x: 55,  // Gəncə area
    y: 50,  
    region: 'qerb',
    name: 'GƏNCƏ EŞ',
    images: [
      '/imgs/qerb/gence-es/1.jpg',
      '/imgs/qerb/gence-es/2.jpg',
      '/imgs/qerb/gence-es/3.jpg'
    ]
  },
  { 
    id: 'qerb-4', 
    x: 55,  // Gəncə Mərkəz area
    y: 55,  
    region: 'qerb',
    name: 'GƏNCƏ MƏRKƏZ YS',
    images: [
      '/imgs/qerb/gence-merkez-ys/1.jpg',
      '/imgs/qerb/gence-merkez-ys/2.jpg',
      '/imgs/qerb/gence-merkez-ys/3.jpg'
    ]
  },
  // Qarabag Region Pinpoints - Google Map Coordinates
  { 
    id: 'qarabag-1', 
    x: 48,  // Xocalı area
    y: 28,  
    region: 'qarabag',
    name: 'XOCALI ƏSGƏRAN YS',
    images: [
      '/imgs/qarabag/xocali-esgeran/1.jpg',
      '/imgs/qarabag/xocali-esgeran/2.jpg',
      '/imgs/qarabag/xocali-esgeran/3.jpg'
    ]
  },
  { 
    id: 'qarabag-2', 
    x: 60,  // Zəfər area
    y: 55,  
    region: 'qarabag',
    name: 'ZƏFƏR YS',
    images: [
      '/imgs/qarabag/zefer-ys/1.jpg',
      '/imgs/qarabag/zefer-ys/2.jpg',
      '/imgs/qarabag/zefer-ys/3.jpg'
    ]
  },
  { 
    id: 'qarabag-3', 
    x: 40,  // Signa area
    y: 20,  
    region: 'qarabag',
    name: 'SIĞNAQ YS',
    images: [
      '/imgs/qarabag/signa/1.jpg',
      '/imgs/qarabag/signa/2.jpg',
      '/imgs/qarabag/signa/3.jpg'
    ]
  },
  { 
    id: 'qarabag-4', 
    x: 40,  // Malıbəyli area
    y: 50,  
    region: 'qarabag',
    name: 'MALIBƏYLİ YS',
    images: [
      '/imgs/qarabag/malibeyli/1.jpg',
      '/imgs/qarabag/malibeyli/2.jpg',
      '/imgs/qarabag/malibeyli/3.jpg'
    ]
  },
  { 
    id: 'qarabag-5', 
    x: 23,  // Kəlbəcər area
    y: 16,  
    region: 'qarabag',
    name: 'KƏLBƏCƏR ŞƏHƏR YS',
    images: [
      '/imgs/qarabag/kelbecer-seher-ys/1.jpg',
      '/imgs/qarabag/kelbecer-seher-ys/2.jpg',
      '/imgs/qarabag/kelbecer-seher-ys/3.jpg'
    ]
  },
  { 
    id: 'qarabag-6', 
    x: 65,  // Xocavənd Zoğalbulaq area
    y: 40,  
    region: 'qarabag',
    name: 'ZOĞALBULAQ YS',
    images: [
      '/imgs/qarabag/xocavend-zogalbulaq-ys/1.jpg',
      '/imgs/qarabag/xocavend-zogalbulaq-ys/2.jpg',
      '/imgs/qarabag/xocavend-zogalbulaq-ys/3.jpg'
    ]
  },
  { 
    id: 'qarabag-7', 
    x: 60,  // Xocavənd 35kv area
    y: 40,  
    region: 'qarabag',
    name: 'XOCAVƏND YS',
    images: [
      '/imgs/qarabag/xocavend-35kv/1.jpg',
      '/imgs/qarabag/xocavend-35kv/2.jpg',
      '/imgs/qarabag/xocavend-35kv/3.jpg'
    ]
  },
  { 
    id: 'qarabag-8', 
    x: 45,  // Xankəndi area
    y: 40,  
    region: 'qarabag',
    name: 'XANKƏNDİ YS',
    images: [
      '/imgs/qarabag/xankendi/1.jpg',
      '/imgs/qarabag/xankendi/2.jpg',
      '/imgs/qarabag/xankendi/3.jpg'
    ]
  },
  { 
    id: 'qarabag-9', 
    x: 35,  // Xankəndi area
    y: 50,  
    region: 'qarabag',
    name: 'LAÇIN MİNKƏND YS',
    images: [
      '/imgs/qarabag/lacin-minkend-ys/1.jpg',
      '/imgs/qarabag/lacin-minkend-ys/2.jpg',
      '/imgs/qarabag/lacin-minkend-ys/3.jpg'
    ]
  }
])

// Helper function to add new pinpoints easily
const addPinpoint = (x, y, region, name, images) => {
  const id = `${region}-${pinpoints.value.filter(p => p.region === region).length + 1}`
  pinpoints.value.push({ id, x, y, region, name, images })
}

// Helper function to add images to existing yarımstansiya
const addImagesToYarimstansiya = (yarimstansiyaId, newImages) => {
  const pinpoint = pinpoints.value.find(p => p.id === yarimstansiyaId)
  if (pinpoint) {
    pinpoint.images = [...pinpoint.images, ...newImages]
  }
}

// Helper function to update images for yarımstansiya
const updateYarimstansiyaImages = (yarimstansiyaId, images) => {
  const pinpoint = pinpoints.value.find(p => p.id === yarimstansiyaId)
  if (pinpoint) {
    pinpoint.images = images
  }
}

const mapRegions = [
  { name: 'Bakı RETSİ', left: 75, top: 30, color: 'rgba(59, 130, 246, 0.3)' },
  { name: 'Sumqayıt RETSİ', left: 70, top: 25, color: 'rgba(16, 185, 129, 0.3)' },
  { name: 'Xaçmaz RETSİ', left: 80, top: 20, color: 'rgba(139, 92, 246, 0.3)' },
  { name: 'Şirvan RETSİ', left: 60, top: 60, color: 'rgba(245, 158, 11, 0.3)' },
  { name: 'Şimal Qərb RETSİ', left: 20, top: 15, color: 'rgba(239, 68, 68, 0.3)' },
  { name: 'Qərb RETSİ', left: 15, top: 35, color: 'rgba(168, 85, 247, 0.3)' },
  { name: 'Mərkəzi Aran RETSİ', left: 45, top: 45, color: 'rgba(34, 197, 94, 0.3)' },
  { name: 'Aran RETSİ', left: 35, top: 55, color: 'rgba(59, 130, 246, 0.3)' },
  { name: 'Qarabağ RETSİ', left: 50, top: 40, color: 'rgba(16, 185, 129, 0.3)' },
  { name: 'Naxçıvan RETSİ', left: 10, top: 70, color: 'rgba(245, 158, 11, 0.3)' },
  { name: 'Cənub RETSİ', left: 65, top: 75, color: 'rgba(139, 92, 246, 0.3)' }
]

const getRegionCount = (regionName) => {
  const region = substationData.value.butunBolgelerUzre.regions.find(r => r.name === regionName)
  return region ? region.count : 0
}

const handleMapClick = (event) => {
  const target = event.target
  if (target.classList.contains('map-region')) {
    const region = target.getAttribute('data-region')
    if (region) {
      // First, perform the zoom-in animation on the main SVG
      zoomToRegion(target)
      // After the zoom completes, crossfade to the Google Map view
      setTimeout(() => {
        selectedRegion.value = region
        showMapView.value = true
        resetMapView()
      }, 1000)  
    }
  }
}

const zoomToRegion = (regionElement) => {
  if (!regionElement) return
  
  const svg = document.querySelector('.main-map')
  if (!svg) return
  
  // Performance optimization: Force GPU acceleration
  svg.style.transform = 'translateZ(0)'
  
  // Get the bounding box of the region
  const bbox = regionElement.getBBox()
  
  // Calculate the center of the region
  const regionCenterX = bbox.x + bbox.width / 2
  const regionCenterY = bbox.y + bbox.height / 2
  
  // Get the SVG viewport
  const svgRect = svg.getBoundingClientRect()
  const svgCenterX = svgRect.width / 2
  const svgCenterY = svgRect.height / 2
  
  // Calculate the scale (zoom level)
  const scale = 2.0 // Increased for better zoom effect
  
  // Calculate the translation to center the region
  // Simplified calculation for better positioning
  const translateX = svgCenterX - (regionCenterX * scale) + 600
  const translateY = svgCenterY - (regionCenterY * scale) + 400
  
  // Add manual offset adjustments here if needed
  // translateX += 50  // Move right by 50px
  // translateY -= 30  // Move up by 30px
  
  // Apply the transform with animation
  isZoomed.value = true
  zoomTransform.value = {
    scale: scale,
    translateX: translateX,
    translateY: translateY
  }
  
  // Debug logging
  console.log('Zoom Debug:', {
    regionCenter: { x: regionCenterX, y: regionCenterY },
    svgCenter: { x: svgCenterX, y: svgCenterY },
    bbox: { x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height },
    transform: { scale, translateX, translateY }
  })
}

const resetZoom = () => {
  isZoomed.value = false
  zoomTransform.value = {
    scale: 1,
    translateX: 0,
    translateY: 0
  }
}

const toggleZoom = () => {
  if (isZoomed.value) {
    resetZoom()
  } else {
    // Zoom to center of the image
    const scale = 2.5
    isZoomed.value = true
    zoomTransform.value = {
      scale: scale,
      translateX: 0,
      translateY: 0
    }
  }
}

// Google Map zoom functions
const zoomInMap = () => {
  const newScale = Math.min(mapZoomTransform.value.scale * 1.5, 5)
  
  // Temporarily update scale to calculate bounds
  const tempTransform = { ...mapZoomTransform.value, scale: newScale }
  const originalTransform = mapZoomTransform.value
  mapZoomTransform.value = tempTransform
  
  // Apply boundary constraints with the new scale
  const constrained = constrainTransform(originalTransform.translateX, originalTransform.translateY)
  
  mapZoomTransform.value = {
    scale: newScale,
    translateX: constrained.translateX,
    translateY: constrained.translateY,
    transition: 'transform 0.3s ease-out'
  }
}

const zoomOutMap = () => {
  const newScale = Math.max(mapZoomTransform.value.scale / 1.5, 1)
  
  // Temporarily update scale to calculate bounds
  const tempTransform = { ...mapZoomTransform.value, scale: newScale }
  const originalTransform = mapZoomTransform.value
  mapZoomTransform.value = tempTransform
  
  // Apply boundary constraints with the new scale
  const constrained = constrainTransform(originalTransform.translateX, originalTransform.translateY)
  
  mapZoomTransform.value = {
    scale: newScale,
    translateX: constrained.translateX,
    translateY: constrained.translateY,
    transition: 'transform 0.3s ease-out'
  }
}

const handleMapWheel = (event) => {
  event.preventDefault()
  const delta = event.deltaY > 0 ? 0.9 : 1.1
  const newScale = Math.max(1, Math.min(5, mapZoomTransform.value.scale * delta))
  
  // Temporarily update scale to calculate bounds
  const tempTransform = { ...mapZoomTransform.value, scale: newScale }
  const originalTransform = mapZoomTransform.value
  mapZoomTransform.value = tempTransform
  
  // Apply boundary constraints with the new scale
  const constrained = constrainTransform(originalTransform.translateX, originalTransform.translateY)
  
  mapZoomTransform.value = {
    scale: newScale,
    translateX: constrained.translateX,
    translateY: constrained.translateY,
    transition: 'transform 0.1s ease-out'
  }
}

const handleTouchStart = (event) => {
  if (event.touches.length === 2) {
    // Two finger pinch: allow only when zoomed in beyond default
    if (mapZoomTransform.value.scale > 1) {
      isPinching.value = true
      const touch1 = event.touches[0]
      const touch2 = event.touches[1]
      
      touchStartDistance.value = Math.sqrt(
        Math.pow(touch2.clientX - touch1.clientX, 2) + 
        Math.pow(touch2.clientY - touch1.clientY, 2)
      )
      
      touchStartCenter.value = {
        x: (touch1.clientX + touch2.clientX) / 2,
        y: (touch1.clientY + touch2.clientY) / 2
      }
    }
  } else if (event.touches.length === 1 && mapZoomTransform.value.scale > 1) {
    // Single finger drag: only when zoomed in
    isMapDragging.value = true
    dragStartPos.value = { x: event.touches[0].clientX, y: event.touches[0].clientY }
    dragStartTransform.value = { 
      translateX: mapZoomTransform.value.translateX, 
      translateY: mapZoomTransform.value.translateY 
    }
    mapZoomTransform.value.transition = 'none'
  }
}

const handleTouchMove = (event) => {
  if (event.touches.length === 2 && isPinching.value) {
    // Two finger pinch zoom
    event.preventDefault()
    
    const touch1 = event.touches[0]
    const touch2 = event.touches[1]
    
    const currentDistance = Math.sqrt(
      Math.pow(touch2.clientX - touch1.clientX, 2) + 
      Math.pow(touch2.clientY - touch1.clientY, 2)
    )
    
    const scaleFactor = currentDistance / touchStartDistance.value
    const newScale = Math.max(1, Math.min(5, mapZoomTransform.value.scale * scaleFactor))
    
    // Temporarily update scale to calculate bounds
    const tempTransform = { ...mapZoomTransform.value, scale: newScale }
    const originalTransform = mapZoomTransform.value
    mapZoomTransform.value = tempTransform
    
    // Apply boundary constraints with the new scale
    const constrained = constrainTransform(originalTransform.translateX, originalTransform.translateY)
    
    mapZoomTransform.value = {
      scale: newScale,
      translateX: constrained.translateX,
      translateY: constrained.translateY,
      transition: 'none'
    }
  } else if (event.touches.length === 1 && isMapDragging.value && mapZoomTransform.value.scale > 1) {
    // Single finger drag
    event.preventDefault()
    
    const deltaX = event.touches[0].clientX - dragStartPos.value.x
    const deltaY = event.touches[0].clientY - dragStartPos.value.y
    
    const newTranslateX = dragStartTransform.value.translateX + deltaX
    const newTranslateY = dragStartTransform.value.translateY + deltaY
    
    // Apply boundary constraints
    const constrained = constrainTransform(newTranslateX, newTranslateY)
    
    mapZoomTransform.value = {
      ...mapZoomTransform.value,
      translateX: constrained.translateX,
      translateY: constrained.translateY
    }
  }
}

const handleTouchEnd = () => {
  isPinching.value = false
  if (isMapDragging.value) {
    isMapDragging.value = false
  }
  mapZoomTransform.value.transition = 'transform 0.3s ease-out'
}

// Reset map to default view
const resetMapView = () => {
  mapZoomTransform.value = {
    scale: 1,
    translateX: 0,
    translateY: 0,
    transition: 'transform 0.5s ease-out'
  }
}

// Mouse dragging functions
const handleMapMouseDown = (event) => {
  if (mapZoomTransform.value.scale > 1) {
    isMapDragging.value = true
    dragStartPos.value = { x: event.clientX, y: event.clientY }
    dragStartTransform.value = { 
      translateX: mapZoomTransform.value.translateX, 
      translateY: mapZoomTransform.value.translateY 
    }
    mapZoomTransform.value.transition = 'none'
  }
}

const handleMapMouseMove = (event) => {
  if (isMapDragging.value && mapZoomTransform.value.scale > 1) {
    const deltaX = event.clientX - dragStartPos.value.x
    const deltaY = event.clientY - dragStartPos.value.y
    
    const newTranslateX = dragStartTransform.value.translateX + deltaX
    const newTranslateY = dragStartTransform.value.translateY + deltaY
    
    // Apply boundary constraints
    const constrained = constrainTransform(newTranslateX, newTranslateY)
    
    mapZoomTransform.value = {
      ...mapZoomTransform.value,
      translateX: constrained.translateX,
      translateY: constrained.translateY
    }
  }
}

const handleMapMouseUp = () => {
  if (isMapDragging.value) {
    isMapDragging.value = false
    mapZoomTransform.value.transition = 'transform 0.3s ease-out'
  }
}

// PhotoSwipe Gallery Functions
const openPhotoSwipe = async (index) => {
  if (!selectedPinpoint.value?.images) return
  
  try {
    const { default: PhotoSwipe } = await import('photoswipe')
    
    // Create PhotoSwipe items for v5
    const items = selectedPinpoint.value.images.map((src, i) => ({
      src: src,
      width: 1200,
      height: 800,
      alt: `${selectedPinpoint.value.name} - Image ${i + 1}`
    }))
    
    // Initialize PhotoSwipe v5
    const gallery = new PhotoSwipe({
      dataSource: items,
      index: index,
      pswpModule: () => import('photoswipe'),
      mainClass: 'pswp--open',
      showHideAnimationType: 'fade',
      showAnimationDuration: 300,
      hideAnimationDuration: 300,
      showHideOpacity: true,
      bgOpacity: 0.9,
      spacing: 0.1,
      allowPanToNext: true,
      maxSpreadZoom: 3
    })
    
    gallery.init()
  } catch (error) {
    console.error('PhotoSwipe error:', error)
    // Fallback to simple modal
    openImageModal()
  }
}

// Array of all regions in order for carousel navigation
const regionOrder = [
  'baku',
  'sumqayit', 
  'xacmaz',
  'sirvan',
  'qerb',
  'simalqerb',
  'merkezi-aran',
  'aran',
  'cenub',
  'qarabag',
  'naxcivan'
]

const handleLeftClick = () => {
  if (!selectedRegion.value) return
  
  if (showGallery.value) {
    // In gallery view: navigate between yarımstansiyalar in current region
    const regionPinpoints = pinpoints.value.filter(p => p.region === selectedRegion.value)
    const currentPinpointIndex = regionPinpoints.findIndex(p => p.id === selectedPinpoint.value?.id)
    const prevIndex = currentPinpointIndex === 0 ? regionPinpoints.length - 1 : currentPinpointIndex - 1
    const prevPinpoint = regionPinpoints[prevIndex]
    
    if (prevPinpoint) {
      selectedPinpoint.value = prevPinpoint
      currentImageIndex.value = 0
    }
  } else {
    // In Google Map view: navigate between regions
    const currentIndex = regionOrder.indexOf(selectedRegion.value)
    const prevIndex = currentIndex === 0 ? regionOrder.length - 1 : currentIndex - 1
    selectedRegion.value = regionOrder[prevIndex]
    
    // Maintain Google Maps view when navigating
    showMapView.value = true
  }
}

const handleRightClick = () => {
  if (!selectedRegion.value) return
  
  if (showGallery.value) {
    // In gallery view: navigate between yarımstansiyalar in current region
    const regionPinpoints = pinpoints.value.filter(p => p.region === selectedRegion.value)
    const currentPinpointIndex = regionPinpoints.findIndex(p => p.id === selectedPinpoint.value?.id)
    const nextIndex = currentPinpointIndex === regionPinpoints.length - 1 ? 0 : currentPinpointIndex + 1
    const nextPinpoint = regionPinpoints[nextIndex]
    
    if (nextPinpoint) {
      selectedPinpoint.value = nextPinpoint
      currentImageIndex.value = 0
    }
  } else {
    // In Google Map view: navigate between regions
    const currentIndex = regionOrder.indexOf(selectedRegion.value)
    const nextIndex = currentIndex === regionOrder.length - 1 ? 0 : currentIndex + 1
    selectedRegion.value = regionOrder[nextIndex]
    
    // Maintain Google Maps view when navigating
    showMapView.value = true
  }
}



const handleBackButton = () => {
  console.log('handleBackButton called')
  if (showGallery.value) {
    // If in gallery, go back to Google Maps view
    console.log('Going back to Google Maps from gallery')
    showGallery.value = false
    selectedPinpoint.value = null
    currentImageIndex.value = 0
    showMapView.value = true
  } else {
    // If in Google Maps view, go back to main map
    console.log('Going back to main map from Google Maps')
    closeRegionModal()
  }
}

const closeRegionModal = () => {
  console.log('closeRegionModal called')
  selectedRegion.value = null
  showGallery.value = false
  showMapView.value = false
  selectedPinpoint.value = null
  currentImageIndex.value = 0
  resetZoom()
  // Reset map zoom when closing region modal
  resetMapView()
  console.log('closeRegionModal completed')
}

// Pinpoint functions
const handlePinPointClick = (pinpoint) => {
  selectedPinpoint.value = pinpoint
  currentImageIndex.value = 0
  showGallery.value = true
  // Hide map view when showing gallery
  showMapView.value = false
}

const closeGallery = () => {
  showGallery.value = false
  selectedPinpoint.value = null
  currentImageIndex.value = 0
}

const openImageModal = () => {
  showImageModal.value = true
}

const closeImageModal = () => {
  showImageModal.value = false
}

const startDrag = (event) => {
  isDragging.value = true
  dragStartX.value = event.type === 'mousedown' ? event.clientX : event.touches[0].clientX
  dragCurrentX.value = dragStartX.value
}

const onDrag = (event) => {
  if (!isDragging.value) return
  
  event.preventDefault()
  dragCurrentX.value = event.type === 'mousemove' ? event.clientX : event.touches[0].clientX
}

const endDrag = () => {
  if (!isDragging.value) return
  
  const dragDistance = dragStartX.value - dragCurrentX.value
  const minSwipeDistance = 50 // minimum distance to trigger swipe
  
  if (Math.abs(dragDistance) > minSwipeDistance) {
    if (dragDistance > 0) {
      // Swiped left - go to next image
      nextImage()
    } else {
      // Swiped right - go to previous image
      prevImage()
    }
  }
  
  isDragging.value = false
}

// Enhanced image navigation with visual feedback
const nextImageWithFeedback = () => {
  if (selectedPinpoint.value && selectedPinpoint.value.images.length > 0) {
    currentImageIndex.value = (currentImageIndex.value + 1) % selectedPinpoint.value.images.length
  }
}

const prevImageWithFeedback = () => {
  if (selectedPinpoint.value && selectedPinpoint.value.images.length > 0) {
    currentImageIndex.value = currentImageIndex.value === 0 
      ? selectedPinpoint.value.images.length - 1 
      : currentImageIndex.value - 1
  }
}





const nextImage = () => {
  if (selectedPinpoint.value && selectedPinpoint.value.images.length > 0) {
    currentImageIndex.value = (currentImageIndex.value + 1) % selectedPinpoint.value.images.length
  }
}

const prevImage = () => {
  if (selectedPinpoint.value && selectedPinpoint.value.images.length > 0) {
    currentImageIndex.value = currentImageIndex.value === 0 
      ? selectedPinpoint.value.images.length - 1 
      : currentImageIndex.value - 1
  }
}

// Helper to get visible pinpoints based on current view
const getVisiblePinpoints = () => {
  if (selectedRegion.value) {
    // In gallery mode, show only pinpoints for the current region
    if (showGallery.value) {
      return pinpoints.value.filter(p => p.region === selectedRegion.value)
    }
    // In other views (SVG/Google Maps), show pinpoints for current region
    return pinpoints.value.filter(p => p.region === selectedRegion.value)
  }
  return pinpoints.value
}

const getRegionName = (region) => {
  const regionNames = {
    'baku': 'BAKI RETSİ',
    'sumqayit': 'SUMQAYIT RETSİ',
    'xacmaz': 'XAÇMAZ RETSİ',
    'sirvan': 'ŞİRVAN RETSİ',
    'qerb': 'QƏRB RETSİ',
    'simalqerb': 'ŞİMAL QƏRB RETSİ',
    'merkezi-aran': 'MƏRKƏZİ ARAN RETSİ',
    'aran': 'ARAN RETSİ',
    'cenub': 'CƏNUB RETSİ',
    'qarabag': 'QARABAĞ RETSİ',
    'naxcivan': 'NAXÇIVAN RETSİ'
  }
  return regionNames[region] || region
}

const getRegionSubstations = (region) => {
  const substationData = {
    'baku': [
      { name: 'NƏRİMANOV-TƏBRİZ YS', specs: '110 / 35 / 10' },
      { name: 'SABUNÇU 34 YS', specs: '110 / 35 / 10' },
      { name: 'SABUNÇU PİRŞAĞI YS', specs: '110 / 35 / 10' },
      { name: 'SƏBAİL BADAMDAR YS', specs: '110 / 35 / 10' },
      { name: 'ABŞERON ƏLİAĞAVAHİD YS', specs: '110 / 35 / 10' },
      { name: 'SƏBAİL LİMAN 2 YS', specs: '110 / 35 / 10' }
    ],
    'sumqayit': [
      { name: 'SİTALÇAY YS', specs: '110 / 35 / 10' },
    ],
    'xacmaz': [
      { name: 'XAÇMAZ EŞ', specs: '110 / 35 / 10' },
    ],
    'sirvan': [
   
    ],
    'qerb': [
      { name: 'GƏNCƏ EŞ', specs: '110 / 35 / 10' },
      { name: 'GƏNCƏ MƏRKƏZ YS', specs: '110 / 35 / 10' },
      { name: 'TOVUZ YS', specs: '110 / 35 / 10' },
      { name: 'GÖYGÖL YS', specs: '110 / 35 / 10' }
    ],
    'simalqerb': [
      
    ],
    'merkezi-aran': [
      { name: 'AĞDAŞ EŞ', specs: '110 / 35 / 10' },
      { name: 'MİNGƏÇEVİR KARXANA YS', specs: '110 / 35 / 10' },
    
    ],
    'aran': [
      { name: 'AĞDAM EŞ', specs: '110 / 35 / 10' },
      { name: 'BƏRDƏ ŞİRVANLI YS', specs: '110 / 35 / 10' },
      { name: 'BƏRDƏ SƏMƏD VURĞUN YS', specs: '110 / 35 / 10' },
      { name: 'KÜRDƏMİR YS', specs: '110 / 35 / 10' },
      { name: 'KÜRDƏMİR EŞ', specs: '110 / 35 / 10' },
      { name: 'ZƏRDAB EŞ', specs: '110 / 35 / 10' },
      { name: 'FİZULİ MAHMUDLU YS', specs: '110 / 35 / 10' },
    ],
    'cenub': [
      { name: 'LƏNKƏRAN EŞ', specs: '110 / 35 / 10' },
    ],
    'qarabag': [
      { name: 'ZƏFƏR YS', specs: '110 / 35 / 10' },
      { name: 'XANKƏNDİ YS', specs: '110 / 35 / 10' },
      { name: 'XOCALI ƏSGƏRAN YS', specs: '110 / 35 / 10' },
      { name: 'XOCAVƏND 35KV YS', specs: '110 / 35 / 10' },
      { name: 'ZOĞALBULAQ YS', specs: '110 / 35 / 10' },
      { name: 'KƏLBƏCƏR ŞƏHƏR YS', specs: '110 / 35 / 10' },
      { name: 'LAÇIN MİNKƏND YS', specs: '110 / 35 / 10' },
      { name: 'MALIBƏYLI YS', specs: '110 / 35 / 10' },
      { name: 'SIĞNAQ YS', specs: '110 / 35 / 10' }
    ],
    'naxcivan': [
     
    ]
  }
  return substationData[region] || []
}

const getRegionSubstationCount = (region) => {
  const substations = getRegionSubstations(region)
  return substations.length
}

const getSubstationDetails = (pinpoint) => {
  return [
    { label: 'Məkan', value: '' },
    { label: 'Əhali Abonenti', value: '25000' },
    { label: 'Qeyri Əhali Abonenti', value: '1800' },
    { label: 'Enerji gücü', value: '110/35/6 kv' },
     
  ]
}

const getRegionFileName = (region) => {
  // No longer using individual SVG maps
  return null
}

const getGoogleMapFileName = (region) => {
  const mapFileNames = {
    'baku': 'bakugooglemap.png',
    'sumqayit': 'sumqayitgooglemap.png',
    'xacmaz': 'xacmazgooglemap.png',
    'sirvan': 'shirvangooglemap.png',
    'qerb': 'qerbgooglemap.png',
    'simalqerb': 'simalqerbgooglemap.png',
    'merkezi-aran': 'merkeziarangooglemap.png',
    'aran': 'arangooglemap.png', // Using same as merkezi-aran for now
    'cenub': 'cenubgooglemap.png', // Using same as merkezi-aran for now
    'qarabag': 'qarabaggooglemap.png',
    'naxcivan': 'naxcivangooglemap.png'
  }
  return mapFileNames[region] || 'bakugooglemap.png'
}

const fetchData = async () => {
  try {
    const response = await axios.get('/data/substationData.json')
    substationData.value = response.data
  } catch (error) {
    console.error('Error fetching data:', error)
    substationData.value = {
      butunBolgelerUzre: {
        total: 31,
        regions: [
          { name: "Bakı RETSİ", count: 6 },
          { name: "Sumqayıt RETSİ", count: 1 },
          { name: "Xaçmaz RETSİ", count: 1 },
          { name: "Şirvan RETSİ", count: 0 },
          { name: "Şimal Qərb RETSİ", count: 0 },
          { name: "Qərb RETSİ", count: 4 },
          { name: "Mərkəzi Aran RETSİ", count: 2 },
          { name: "Aran RETSİ", count: 7 },
          { name: "Qarabağ RETSİ", count: 9 },
          { name: "Naxçıvan RETSİ", count: 0 },
          { name: "Cənub RETSİ", count: 1 }
        ]
      },
      yarimstansiyalarUzreArtim: {
        powerIncrease: 250,
        population: 14500,
        nonPopulation: 8501,
        other: 500,
        edcTotal: 435,
        edcBreakdown: [
          { name: "Bakı RETSİ", percentage: 70, color: "#3B82F6" },
          { name: "Qarabağ RETSİ", percentage: 25, color: "#10B981" },
          { name: "Digər RETSİLƏR", percentage: 5, color: "#60A5FA" }
        ]
      },
      elektrikDoldurmaCihazi: {
        nationwide: 50.5,
        bakuCity: 43.5,
        karabakhIR: 1.0,
        otherIR: 6.1,
        ratio: {
          otherOrganizations: 74,
          azerishiqASC: 26
        }
      }
    }
  }
}

onMounted(() => {
  fetchData()
})
</script>

<style scoped>
.azerbaijan-map-container {
  min-height: 100vh;
  width: 100vw;
  position: relative;
  padding: 0 50px;
  overflow: hidden;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.count {
  text-align: right !important;
    padding-right: 50px !important;
}
.table-header-light-blue {
  text-align: right !important;
  padding-right: 50px !important;
}
.background-pattern {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-image: url('/bg.svg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: -1;
  opacity: 1;
}

.header {
    background: transparent;
    border-radius: 12px;
    padding: 0;
    position: relative;
    z-index: 10;
    text-align: center;
    margin-right: 80px;
    overflow: hidden;
    justify-content: center;
    display: flex
;
}

.header-content {
  display: flex;
  align-items: center;
  gap: 0;
  height: 80px;
}

.logo-container {
  display: flex
;
    align-items: center;
    justify-content: center;
    background-color: #fff;
    height: 100%;
    border: 1px solid #0000004a;
    padding: 0px 11px;
    border-radius: 0 0 12px 12px;
}

.logo {
  width: 60px;
  height: 65px;
  object-fit: contain;
}

.title {
  font-size: clamp(1.25rem, 1.8vw, 2.25rem);
  font-weight: 700;
  font-family: 'Montserrat', sans-serif;
  color: #0E273C;
  margin: 0;
  flex: 1;
  line-height: 1.2;
  text-align: left;
  padding: 0 32px;
  height: 100%;
  display: flex;
  align-items: center;
  border-radius: 0 12px 12px 0;
}

.main-content {
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 24px;
  padding: 0 50px;
  height: calc(100vh - 140px);
  max-width: 100vw;
}

.map-section {
  
  border-radius: 12px;
  padding: 51px;
  position: relative;
  display: flex;
  flex-direction: column;
}

.map-container {
  position: relative;
  width: 100%;
  height: 100%;
  flex: 1;
}

.azerbaijan-map {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.map-caption {
  text-align: start;
  color: #0E273C;
    font-size: 1.1rem;
  font-family: 'Montserrat', sans-serif;
  margin-top: 12px;
    font-weight: 600;
    margin-left: 40px;
}

.map-regions {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.map-region {
  cursor: pointer;
  transition: all 0.3s ease;
}

.map-region:hover {
  fill: #98d8ef9d !important;
}

/* Map Container Styles */
.map-container {
  position: relative;
  width: 100%;
  height: 100%;
  flex: 1;
  transition: all 0.5s ease;
  overflow: hidden;
  /* Performance optimizations */
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Only show outer shadow when Google Map view is active */
.map-container.gm-active {
  box-shadow: 0 7px 23px 0 rgba(100, 100, 111, 0.2);
  border-radius: 12px;
}

.main-map {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  z-index: 1;
  transition: opacity 1.6s cubic-bezier(0.22, 0.61, 0.36, 1);
  will-change: opacity;
  transform-origin: center;
  /* Performance optimizations */
  backface-visibility: hidden;
  perspective: 1000px;
  transform-style: preserve-3d;
}

.main-map.is-hidden {
  opacity: 0;
  pointer-events: none;
}

/* Region Detail Container */
.region-detail-container {
  width: 55%;
  margin: 0 auto;
  margin-top: 50px;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 12px;
  /* animation: fadeIn 0.5s ease-out; */
}

.region-detail-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 12px;
  transition: transform 0.3s ease;
}

.region-tooltip {
  position: absolute;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 10;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
}

.statistics-section {
  display: flex;
  flex-direction: column;
  gap: 24px;
  margin-top: 50px;
  /* overflow-y: auto; */
  max-height: 100vh;
}

.stat-card {
    background-color: white;
    border-radius: 12px;
    padding: 0;
    border: 1px solid #00000012;
    box-shadow: 0 7px 23px 0 rgb(11 11 78 / 8%);
}

.card-title {
  font-size: 16px;
  font-weight: 600  ;
        text-align: left;
        color: #033751;
}

.table-container {
  overflow-x: auto;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 7px 23px 0 rgba(100, 100, 111, 0.2);
  overflow: hidden;
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
  font-family: 'Montserrat', sans-serif;
}

.data-table th,
.data-table td {
  padding: 3px 16px;
  text-align: left;
  border-bottom: 1px solid #E5E7EB;
}

.table-header-blue {
  background-color: #6C9DAF;
  font-weight: 600;
  color: white;
  text-align: left;
}
      @font-face {
        font-family: 'Montserrat';
        src: url('/fonts/Montserrat-Regular.ttf') format('truetype');
        font-weight: 400;
        font-style: normal;
      }
      @font-face {
        font-family: 'Montserrat';
        src: url('/fonts/Montserrat-Bold.ttf') format('truetype');
        font-weight: 700;
        font-style: normal;
      }
      @font-face {
        font-family: 'Montserrat';
        src: url('/fonts/Montserrat-ExtraBold.ttf') format('truetype');
        font-weight: 800;
        font-style: normal;
      }
      @font-face {
        font-family: 'Montserrat';
        src: url('/fonts/Montserrat-Black.ttf') format('truetype');
        font-weight: 900;
        font-style: normal;
      }
      
      svg text {
    pointer-events: none;
  }
  .cls-1 {
        letter-spacing: -.05em;
      }

      .cls-2, .cls-3 {
        fill: #1f92bf;
        font-family: ArialMT, Arial;
        font-size: 12.79px;
      }

      .cls-4 {
        font-size: 12.07px;
      }

      .cls-4, .cls-5, .cls-3, .cls-6, .cls-7 {
        isolation: isolate;
      }

      .cls-4, .cls-5, .cls-6, .cls-7 {
        fill: #fff;
        font-family: Montserrat-Black, Montserrat;
        font-weight: 800;
      }

      .cls-8 {
        letter-spacing: -.01em;
      }

      .cls-9 {
        letter-spacing: -.07em;
      }

      .cls-10 {
        letter-spacing: -.05em;
      }

      .cls-11 {
        letter-spacing: -.01em;
      }

      .cls-5 {
        font-size: 13.29px;
      }

      .cls-12 {
        letter-spacing: -.02em;
      }

      .cls-13, .cls-14, .cls-15, .cls-16 {
        stroke: #000;
        stroke-width: 2.01px;
      }

      .cls-13, .cls-14, .cls-16, .cls-17 {
        fill: #98d8ef;
      }

      .cls-13, .cls-17, .cls-18 {
        stroke-miterlimit: 10;
      }

      .cls-14 {
        stroke-linejoin: bevel;
      }

      .cls-19 {
        letter-spacing: 0em;
      }

      .cls-20 {
        letter-spacing: -.02em;
      }

      .cls-21 {
        letter-spacing: -.04em;
      }

      .cls-22 {
        letter-spacing: -.04em;
      }

      .cls-15, .cls-16, .cls-23 {
        stroke-linejoin: round;
      }

      .cls-15, .cls-18, .cls-23 {
        fill: none;
      }

      .cls-15, .cls-23 {
        stroke-linecap: round;
      }

      .cls-6 {
        font-size: 16.1px;
      }

      .cls-24 {
        letter-spacing: -.04em;
      }

      .cls-25 {
        letter-spacing: -.09em;
      }

      .cls-26 {
        letter-spacing: 0em;
      }

      .cls-7 {
        font-size: 14.04px;
      }

      .cls-27 {
        letter-spacing: 0em;
      }

      .cls-28 {
        letter-spacing: -.11em;
      }

      .cls-29 {
        letter-spacing: 0em;
      }

      .cls-30 {
        letter-spacing: 0em;
      }

      .cls-31 {
        letter-spacing: 0em;
      }

      .cls-17, .cls-18 {
        stroke: #8c8c8c;
        stroke-width: .34px;
      }

      .cls-23 {
        stroke: #aa7d0b;
        stroke-width: .17px;
      }
.statistika-card {
  padding: 24px;
}

.table-header-light-blue {
  background-color: #F8FAFC;
  font-weight: 600;
  text-align: left !important;
  color: #033751;
}

.count-badge {
  background-color: #6C9DAF;
  color: white;
  padding: 2px 8px;
  border-radius: 6px;
  font-weight: 600;
  display: inline-block;
  text-align: center;
}

 

.region-name {
  color: #374151;
  font-weight: 400;
}

.count {
  font-weight: 600;
  color: #374151;
  text-align: right;
}

.alternate-row {
  background-color: #F8FAFC;
}

.charts-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  align-items: start;
}

.bar-chart-section {
  display: flex;
  flex-direction: column;
}

.bar-chart {
  display: flex;
  justify-content: space-around;
  align-items: end;
  height: 160px;
  gap: 12px;
  margin-bottom: 16px;
}

.bar-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
}

.bar {
  width: 100%;
  min-height: 20px;
  border-radius: 4px 4px 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  font-family: 'Montserrat', sans-serif;
  transition: all 0.3s ease;
  position: relative;
}

.bar-value {
  position: absolute;
  top: -25px;
  font-size: 0.75rem;
  font-weight: 600;
  color: #374151;
}

.bar-label {
  font-size: 0.75rem;
  text-align: center;
  margin-top: 8px;
  color: #6B7280;
  font-family: 'Montserrat', sans-serif;
  font-weight: 400;
}

.donut-chart-section {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.donut-chart {
  position: relative;
  width: 120px;
  height: 120px;
  margin-bottom: 16px;
}

.donut-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-weight: 700;
  font-family: 'Montserrat', sans-serif;
  font-size: 1.25rem;
  color: #1E40AF;
  z-index: 2;
}

.donut-segments {
  position: relative;
  width: 100%;
  height: 100%;
}

.donut-segment {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%);
}

.donut-legend {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.75rem;
  font-family: 'Montserrat', sans-serif;
  color: #374151;
}

.legend-color {
  width: 12px;
  height: 12px;
  border-radius: 2px;
}

.donut-title {
  font-size: 0.875rem;
  font-weight: 600;
  font-family: 'Montserrat', sans-serif;
  color: #1E40AF;
  margin-bottom: 12px;
  text-align: center;
}

/* Responsive Design for TV and all screen sizes */
@media (min-width: 1920px) {
  .main-content {
    grid-template-columns: 1.5fr 1fr;
  }
  
  .title {
    font-size: 2rem;
  }
  
  .data-table {
    font-size: 1rem;
  }
  
  .bar-chart {
    height: 200px;
  }
  
  .donut-chart {
    width: 150px;
    height: 150px;
  }
}

@media (max-width: 1024px) {
  .main-content {
    grid-template-columns: 1fr;
    height: auto;
  }
  
  .header-content {
    flex-direction: column;
    text-align: center;
    gap: 16px;
  }
  
  .title {
    font-size: 1.5rem;
  }
  
  .charts-container {
    grid-template-columns: 1fr;
    gap: 32px;
  }
  
  .statistics-section {
    max-height: none;
  }
}

@media (max-width: 768px) {
  .header {
    margin: 16px;
    padding: 20px;
  }
  
  .main-content {
    padding: 0 16px 16px;
  }
  
  .stat-card {
    padding: 20px;
  }
  
  .title {
    font-size: 1.25rem;
  }
}

/* Ultra-wide TV support (2m width, 3m height) */
@media (min-width: 3000px) {
  .azerbaijan-map-container {
    max-width: 100vw;
    max-height: 100vh;
  }
  
  .main-content {
    grid-template-columns: 2fr 1fr;
    gap: 48px;
  }
  
  .title {
    font-size: 3rem;
  }
  
  .card-title {
    font-size: 2rem;
  }
  
  .data-table {
    font-size: 1.5rem;
  }
  
  .bar-chart {
    height: 300px;
  }
  
  .donut-chart {
    width: 200px;
    height: 200px;
  }
  
  .donut-center {
    font-size: 2rem;
  }
}

/* Yarımstansiya Headers */
.yarimstansiya-header {
  position: absolute;
  top: 20px;
  right: 20px;
  z-index: 30;
  color: #2098d4;
  padding: 12px 20px;
  border-radius: 8px;
}

.yarimstansiya-title {
  margin: 0;
  font-size: 2rem;
  font-weight: 900;
  font-family: 'Montserrat', sans-serif;
  white-space: nowrap;
}

/* Map View Styles */
.map-view-container {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: #F5FCFF;
  border-radius: 12px;
  padding: 20px;
  z-index: 2;
  border: 0.42px solid #6c9daf6b;
  box-shadow: 3px 0px 8px -1px rgba(2, 43, 64, 0.15);
}

/* Transition for Google map view */
.view-fade-enter-active, .view-fade-leave-active {
  transition: opacity 1.4s cubic-bezier(0.22, 0.61, 0.36, 1);
}
.view-fade-enter-from, .view-fade-leave-to {
  opacity: 0;
}
.view-fade-enter-active {
  transition-delay: 300ms;
}

/* Crossfade when changing region image */
.image-fade-enter-active, .image-fade-leave-active {
  transition: opacity 1s cubic-bezier(0.22, 0.61, 0.36, 1);
}
.image-fade-enter-from, .image-fade-leave-to {
  opacity: 0;
}

/* Map Header Container */
.map-header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 0;
  margin-left: -20px;
  margin-right: -20px;
  padding-left: 20px;
  padding-right: 20px;
  border-bottom: 2px solid #E5E7EB;
  padding-bottom: 20px;
}

/* Map Controls */
.map-controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

.map-control-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  border-radius: 8px;
  cursor: pointer;
  border: none;
  background: none;
  transition: all 0.3s ease;
}

.map-control-btn:hover {
  transform: translateY(-2px);
}

.map-control-btn .control-icon {
  width: clamp(36px, 4.2vw, 60px);
  height: clamp(36px, 4.2vw, 60px);
}

/* Map Zoom Controls */
.map-zoom-controls {
  position: absolute;
  top: clamp(70px, 12vh, 130px);
  left: clamp(12px, 2.2vw, 30px);
  display: flex;
  flex-direction: column;
  margin-top: 20px;
  gap: 4px;
  z-index: 20;
}

.zoom-btn {
  width: clamp(38px, 3.6vw, 56px);
  height: clamp(38px, 3.6vw, 56px);
  border-radius: 8px;
  border: none;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(18px, 2vw, 24px);
  font-weight: bold;
  color: #31B1F0;
  transition: all 0.3s ease;
  user-select: none;
}

.zoom-btn:hover {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

.zoom-btn:active {
  transform: scale(0.95);
}

.zoom-btn.zoom-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.zoom-btn.zoom-disabled:hover {
  transform: none;
  background: rgba(255, 255, 255, 0.95);
}

.zoom-btn.zoom-reset {
  background: rgba(255, 255, 255, 0.95);
}

.zoom-btn.zoom-reset:hover {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.05);
}

.reset-icon {
  width: 20px;
  height: 20px;
  filter: invert(48%) sepia(79%) saturate(2476%) hue-rotate(190deg) brightness(118%) contrast(119%);
}

.zoom-separator {
  width: 32px;
  height: 1px;
  background: rgba(49, 177, 240, 0.3);
  margin: 0 auto;
}

/* Map Title Container */
.map-title-container {
  flex: 1;
  display: flex;
  justify-content: flex-end;
}

.map-title {
  margin: 0;
  font-size: clamp(1.1rem, 1.6vw, 2.1rem);
  font-weight: 900;
  font-family: 'Montserrat', sans-serif;
  color: #31B1F0;
  text-align: right;
  white-space: nowrap;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Map Content */
.map-content {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
  cursor: default;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.map-content.map-dragging {
  cursor: grabbing;
}

.map-content.map-dragging .map-zoom-container {
  transition: none !important;
}

.map-zoom-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.map-view-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

/* Pinpoint Styles */
.pinpoint-overlay {
  position: absolute;
  z-index: 10;
  opacity: 0;
  animation: pinpointFadeIn 0.2s ease 0.2s forwards;
  transition: transform 0.1s ease-out;
  /* Remove pointer events from the outer container */
  pointer-events: none;
}

.pinpoint-overlay.pinpoint-clickable .pinpoint-clickable-area {
  cursor: pointer;
  filter: drop-shadow(0 2px 8px rgba(49, 177, 240, 0.3));
}

.pinpoint-overlay:not(.pinpoint-clickable) {
  opacity: 0.6;
}

.pinpoint-overlay:not(.pinpoint-clickable) .pinpoint-clickable-area {
  cursor: default;
}

/* Precise clickable area that matches the pin shape */
.pinpoint-clickable-area {
  position: relative;
  pointer-events: auto;
  /* Create a more precise hit area using clip-path to match the pin head */
  clip-path: ellipse(50% 40% at 50% 35%);
  /* Alternative circular area: clip-path: circle(45% at 50% 40%); */
}

@keyframes pinpointFadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.pinpoint-icon {
  width: clamp(28px, 4vw, 48px);
  height: clamp(36px, 5.4vw, 64px);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
  pointer-events: none;
}

/* Gallery Layout Styles */
.gallery-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  background-color: #F5FCFF;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  animation: fadeIn 0.3s ease;
  overflow: hidden;
}

.gallery-header {
  padding: 20px 24px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, #2098d4, #1e88e5);
  color: white;
}

.gallery-title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  font-family: 'Montserrat', sans-serif;
}

.gallery-close-btn {
  background: none;
  border: none;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 6px;
  transition: background-color 0.2s ease;
}

.gallery-close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.gallery-content {
  display: flex;
  flex: 1;
  min-height: 0;
  background: #f5fcff;
  margin-top: 38px;
  border-radius: 8px;
  overflow: hidden;
  gap: 20px;
}

.gallery-main {
  flex: 3.4;
  display: flex;
  align-items: center;
  justify-content: center;
}

.main-image-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: self-start;
  justify-content: center;
}

.main-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

.gallery-nav {
  position: absolute;
  top: 9%;
  transform: translateY(-50%);
  background: #fffffff2;
  color: white;
  border: none;
  width: 48px;
  height: 48px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 10;
}

.nav-icon {
  width: 30px;
    height: 35px;
}

 
.gallery-prev {
  left: 16px;
}

.gallery-next {
  left: 10%;
}

.gallery-thumbnails {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.thumbnail-container {
  cursor: pointer;
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.2s ease;
  border: 3px solid transparent;
}

.thumbnail-container:hover {
  transform: scale(1.05);
}

.thumbnail-container.active {
  border-color: #2098d4;
  box-shadow: 0 4px 12px rgba(32, 152, 212, 0.3);
}

.thumbnail-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Responsive adjustments for gallery */
@media (max-width: 768px) {
  .gallery-content {
    flex-direction: column;
  }
  
  .gallery-main {
    flex: 1;
    padding: 16px;
  }
  
  .gallery-thumbnails {
    flex: none;
    padding: 16px;
    max-height: 200px;
    overflow-x: auto;
    flex-direction: row;
  }
  
  .thumbnail-container {
    min-width: 120px;
  }
  
  .gallery-nav {
    width: 40px;
    height: 40px;
    font-size: 1.25rem;
  }
  
  .gallery-prev {
    left: 8px;
  }
  
  .gallery-next {
    right: 8px;
  }
}

/* Gallery Header Container */
.gallery-header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 0;
  margin-left: -20px;
  margin-right: -20px;
  padding-left: 20px;
  padding-right: 20px;
  border-bottom: 2px solid #E5E7EB;
  padding-bottom: 20px;
}

/* Gallery Controls */
.gallery-controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

.gallery-control-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  border-radius: 8px;
  cursor: pointer;
  border: none;
  background: none;
  transition: all 0.3s ease;
}

.gallery-control-btn:hover {
  transform: translateY(-2px);
}

.gallery-control-btn .control-icon {
  width: 60px;
  height: 60px;
}

/* Gallery Title Container */
.gallery-title-container {
  flex: 1;
  display: flex;
  justify-content: flex-end;
}

.gallery-title {
  margin: 0;
  font-size: 1.7rem;
  font-weight: 900;
  font-family: 'Montserrat', sans-serif;
  color: #31B1F0;
  text-align: right;
  white-space: nowrap;
  text-transform: none;
  letter-spacing: 0.5px;
}

/* Image Modal Styles */
.image-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease;
}

.modal-content {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
  transition: opacity 0.3s ease;
}

.modal-image.fade-enter {
  opacity: 0;
  transform: scale(0.95);
}

.modal-image.fade-enter-active {
  opacity: 1;
  transform: scale(1);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.modal-image.fade-leave {
  opacity: 1;
  transform: scale(1);
}

.modal-image.fade-leave-active {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 0.3s ease, transform 0.3s ease;
}



.modal-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.7);
  border: none;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 10;
}

.modal-nav:hover {
  background: rgba(0, 0, 0, 0.9);
  transform: translateY(-50%) scale(1.1);
}

.modal-prev {
  left: -80px;
}

.modal-next {
  right: -80px;
}

.modal-nav .nav-icon {
  width: 30px;
  height: 30px;
  filter: brightness(0) invert(1);
}

/* Image Counter */
.image-counter {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  z-index: 10;
  backdrop-filter: blur(10px);
}

/* Enhanced Modal Image Transitions */
.modal-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform-origin: center;
}

.modal-image.fade-enter {
  opacity: 0;
  transform: scale(0.95) translateX(20px);
}

.modal-image.fade-enter-active {
  opacity: 1;
  transform: scale(1) translateX(0);
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
              transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.modal-image.fade-leave {
  opacity: 1;
  transform: scale(1) translateX(0);
}

.modal-image.fade-leave-active {
  opacity: 0;
  transform: scale(0.95) translateX(-20px);
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
              transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* PhotoSwipe Custom Styles for Tablet */
.pswp {
  z-index: 9999;
}

.pswp__bg {
  background: rgba(0, 0, 0, 0.95);
}

.pswp__top-bar {
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
}

.pswp__button {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  transition: all 0.3s ease;
}

.pswp__button:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.pswp__counter {
  color: white;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
}

.pswp__caption {
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
}

.pswp__caption__center {
  color: white;
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
}

/* Tablet-specific PhotoSwipe optimizations */
@media (max-width: 1024px) {
  .pswp__button {
    width: 60px;
    height: 60px;
    font-size: 24px;
  }
  
  .pswp__top-bar {
    padding: 20px;
  }
  
  .pswp__caption {
    padding: 20px;
    font-size: 16px;
  }
}
</style> 